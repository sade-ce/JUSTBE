@model RealEstate.Entities.ViewModels.MstClientLiveDealViewModel
@{
    ViewBag.Title = "Just BE | Status";
    Layout = "~/Areas/Client/Views/Shared/_ClientLayout.cshtml";
}

<link href="https://justbere-d4d9.kxcdn.com/Content/Plugins/swipebox/swipebox.min.css" rel="stylesheet" />

<link href="https://justbere-d4d9.kxcdn.com/Content/customcss/calstyle.css" rel="stylesheet" />
<link href="https://justbere-d4d9.kxcdn.com/Content/CssFront/style.css" rel="stylesheet" />
<link href="https://justbere-d4d9.kxcdn.com/Content/CssFront/Cryan.css" rel="stylesheet" />
<link href="https://justbere-d4d9.kxcdn.com/Content/CssFront/icons.css" rel="stylesheet" />
<link href="https://justbere-d4d9.kxcdn.com/Content/CssFront/bootstrap.css" rel="stylesheet" />

<link href="https://justbere-d4d9.kxcdn.com/Content/customcss/Statuscss.css" rel="stylesheet" />
<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet" />



<style>
    .week-list {
        text-align: center;
    }

    .week-list-actions {
        list-style: none;
    }

        .week-list-actions li a {
            font-family: 0.6em;
            background-color: rgba(0, 0, 0, 0.04);
            border-radius: 3px;
            color: #626262;
            font-weight: 700;
            padding: 7px 12px;
            transition: background-color .15s linear;
        }

        .week-list-actions li {
            margin: 0 10px 0 0;
        }

            .week-list-actions li a:hover {
                background-color: rgba(0,0,0,.06);
                text-decoration: none;
                color: #0bb7a5;
            }

    .post-title a {
        color: #323232;
        font-size: .6em;
    }

    .widget-cust {
        margin-bottom: 30px;
    }


    .widget .widgettitle {
        margin: 0 0 10px 0 !important;
        padding-bottom: 10px !important;
    }

    .custom-docu {
        margin-bottom: 50px;
    }

    .widget-docu {
        max-height: 455px;
        overflow-y: auto;
    }

    .widget-vend {
        max-height: 563px;
        overflow-y: auto;
        margin-bottom: 5px;
    }

    .listing-small {
        margin-top: 0px !important;
        margin-bottom: 10px !important;
    }



    ::-webkit-scrollbar-track {
        -webkit-box-shadow: inset 0 0 6px rgba(0,0,0,0.3);
        background-color: #F5F5F5;
    }

    ::-webkit-scrollbar {
        width: 10px;
        background-color: #F5F5F5;
    }

    ::-webkit-scrollbar-thumb {
        background-color: #555;
        border: 2px solid #555555;
        /*border-radius: 10px;
    -webkit-box-shadow: inset 0 0 6px rgba(0,0,0,.3);
    background-color: #555;*/
    }

    .left-meta {
        width: 95px;
        float: left;
    }

    .right-meta {
        width: auto;
        float: left;
    }

    .post-meta-item h2 {
        font-size: 20px;
    }

    div.DocumentModalPopUp {
        max-width: 600px;
        left: 50%;
        top: 5%;
        transform: translate(-50%, 0%);
        overflow: auto;
        bottom: 1px;
    }

    .my-profile textarea {
        height: 32px !important;
        min-height: 73px;
    }

    input#btnAddDocument {
        margin: 0;
    }

    .DocumentModalPopUp .content {
        min-height: 392px;
    }
    /*recent change*/
    form#FormUpload input {
        height: 29px;
        line-height: 26px;
        padding: 1px 10px;
        min-height: 30px;
    }

    #FormUpload .form-group-btn.btn-mob {
        width: auto;
        float: right;
    }

    button.close {
        font-size: 35px;
        color: #0bb7a5 !important;
        opacity: 1 !important;
    }

    a.sassText {
        display: block;
        float: left;
        min-width: 123px;
        margin-bottom: 10px;
    }

    a.sassIcon {
        float: right;
        padding: 0 10px;
    }

    .listing-small-image a {
        background-position: 20px -12px;
        background-size: 122px;
    }

    .listing-small-image a {
        background-position: 20px -12px;
        background-size: 122px;
    }

    .listing-small-content h3 {
        margin: 6px 0 0 0 !important;
    }

    .listing-small-image a {
        background-position: -43px -7px;
    }

    #FormUploadVendor input, select {
        height: 30px;
        line-height: 30px;
        min-height: 30px;
    }

    form#FormUploadEvent input {
        height: 40px !important;
        line-height: 40px !important;
        min-height: 40px !important;
    }

    #FormUploadVendor select {
        min-height: 30px !important;
    }

    #FormUploadEvent select {
        min-height: 40px !important;
    }

    input#btnAddVendor {
        line-height: 11px;
    }

    input#btnAddEvent {
        line-height: 11px;
    }

    .listing-small-image {
        width: 60px;
    }

    .my-profile textarea {
        height: 30px !important;
    }

    .col-sm-12.my-profile {
        background: #fff;
    }

    input#btnUpdateVendor {
        line-height: 9px;
    }

    input#btnUpdateEvent {
        line-height: 9px;
    }

    #FormUploadVendor input, select {
        margin: 0 0 5px;
    }

    #FormUploadEvent input select {
        margin: 0 0 5px;
    }

    #FormUploadEvent number select {
        margin: 0 0 5px;
    }

    .my-profile textarea {
        min-height: 62px;
    }

    span.editIcons {
        display: inline-block;
    }

    span.editIcons {
        display: inline-block;
        float: right;
    }


    a.sassIcon img {
        width: 16px;
        margin-bottom: 20px;
    }

    form#FormUploadVendor input {
        padding: 1px 10px;
    }

    form#FormUploadEvent input {
        padding: 1px 10px;
    }

    form#FormUploadEvent number {
        padding: 1px 10px;
    }

    .btn-ven-wid {
        width: auto;
    }

    .pos-ttl-ven {
        margin: 0 0 0 0;
    }

    .custTableAgenda th {
        text-align: left;
    }

    .custTableAgenda th {
        text-align: left;
    }

    /* TO DO LIST*/
    .ultodolist {
        margin: 0;
        padding: 0;
    }

        /* Style the list items */
        .ultodolist tr {
            cursor: pointer;
            position: relative;
            padding: 12px 8px 12px 40px;
            background: #eee;
            font-size: 18px;
            transition: 0.2s;
            /* make the list items unselectable */
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
            list-style-type: none;
        }

            /* Set all odd list items to a different color (zebra-stripes) */
            .ultodolist tr:nth-child(odd) {
                background: #f9f9f9;
            }

            /* Darker background-color on hover */
            .ultodolist tr:hover {
                background: #ddd;
            }

        /* When clicked on, add a background color and strike out text */
        .ultodolist td.checked {
            text-decoration: line-through;
        }

    /* Add a "checked" mark when clicked on */
    /*.ultodolist li.checked::before {
                    content: '';
                    position: absolute;
                    border-color: #fff;
                    border-style: solid;
                    border-width: 0 2px 2px 0;
                    top: 10px;
                    left: 16px;
                    transform: rotate(45deg);
                    height: 15px;
                    width: 7px;
                }*/

    /* Style the close button */
    .todoclose {
        position: absolute;
        right: 0;
        top: 0;
        padding: 12px 16px 12px 16px;
    }
    /*recent change*/

    .ultodolist tr {
        cursor: pointer;
        position: relative;
        padding: 0;
        background: #eee;
        font-size: 18px;
        transition: 0.2s;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        user-select: none;
        list-style-type: none;
        line-height: 49px;
    }

    .todoLI {
        vertical-align: top;
    }

    span.todo-check {
        width: 20px;
        float: left;
        height: 20px;
        margin: 0;
        padding: 0;
        margin: 0 10px;
    }

    .todoclose {
        position: relative;
        padding: 0 5px;
        float: right;
        display: inline-block;
        height: auto;
        margin: 0 4px;
        width: 27px;
    }

    h3.custHd {
        margin: 0px 0 19px 17px !important;
        padding: 0;
    }

    .CustBtnAdd {
        float: right;
        margin: 0 0 39px 13px;
        min-width: 167px;
    }

    .to-do-list-outer {
        background-color: #fff;
        border-radius: 3px;
        box-shadow: 0 1px 2px rgba(0, 0, 0, 0.08);
    }

    .mgtop {
        margin-top: 44px;
        height: 328px;
        overflow: hidden;
    }

    ul#myToDoList {
        height: 195px;
        overflow: auto;
        margin-top: 0px !important;
        padding-bottom: 60px;
    }

    .actionwdth {
        width: 90px !important;
    }
</style>

<div class="main-wrapper">
    <div class="main">
        <div class="main-inner">

            <div class="content-title">
                <div class="content-title-inner">
                    <div class="container">

                        @if (@Model.ClosingDate.Address != null)
                        {
                            <h1>
                                @Model.ClosingDate.Address
                            </h1>
                        }
                        else
                        {
                            <h1>
                                My Deal
                            </h1>
                        }



                    </div><!-- /.container -->
                </div><!-- /.content-title-inner -->
            </div><!-- /.content-title -->


            <div class="page-header">

                <h4>Track your progress and learn about the upcoming steps related to your deal.</h4>




            </div>
            <div class="content">
                <div class="container">
                    <!-- /.filter -->

                    <div class="row">

                        <div class="col-md-12 col-lg-12">
                            <div class="row sticky-wrapper">

                                @if ((Model.MLSListing.Count() > 0) && (Model.MstGalleryList.Count() == 0))
                                {
                                    <div class="col-md-7 widget">
                                        <h3 class="margin-top-0 widgettitle">Progress</h3>

                                        <div class="main-search-input margin-bottom-40">
                                            <div class="chart col-md-12" id="chartContainer" style="height: 280px;margin-left:-18px;"></div>
                                        </div>
                                        <table class="manage-table bookmarks-table responsive-table">
                                            <tbody>
                                                <tr>
                                                    <th>
                                                        <i class="fa fa-file-text"></i> Steps
                                                    </th>
                                                    <th></th>
                                                    <th>Description</th>

                                                </tr>

                                                @foreach (var item in Model.DealTimeline)
                                                {
                                                    <tr>
                                                        @if (item.IsContingencies == true)
                                                        {
                                                            if (item.IsApplicable == true)
                                                            {
                                                                <td class="title-container">
                                                                    <div class="title">

                                                                        <h4><a> ✔ @item.Status</a></h4>
                                                                        @if (@Convert.ToDateTime(item.UpdatedOn) > System.DateTime.Now)
                                                                        {
                                                                            <span class="table-property-price text-danger">Expires on: @Convert.ToDateTime(item.UpdatedOn).ToString("MMM dd")</span>

                                                                        }
                                                                        else
                                                                        {
                                                                            <span class="table-property-price">Completed: @Convert.ToDateTime(item.UpdatedOn).ToString("MMM dd")</span>

                                                                        }
                                                                    </div>
                                                                </td>

                                                            }
                                                            else
                                                            {
                                                                <td class="title-container">
                                                                    <div class="title">
                                                                        <h4><a style="text-decoration:line-through;">@item.RowID) @item.Status</a></h4>
                                                                        <span class="table-property-price">Not Applicable</span>
                                                                    </div>
                                                                </td>
                                                            }
                                                        }
                                                        else
                                                        {
                                                            <td class="title-container">
                                                                <div class="title">

                                                                    <h4><a>✔ @item.Status</a></h4>
                                                                    <span class="table-property-price">@Convert.ToDateTime(item.UpdatedOn).ToString("MMM dd")</span>
                                                                </div>
                                                            </td>
                                                        }
                                                        <td class="action"></td>

                                                        <td>
                                                            <div class="description">
                                                                <p title="@item.Description" class="masterTooltip text-info" style="color: #0c0707;">
                                                                    <i class="fa fa-info-circle" style="font-size:36px"></i>
                                                                </p>
                                                            </div>
                                                        </td>

                                                        @*<td class="action">
                                                                <a href="@item.VideoURL" class="delete swipebox-video"><i class="fa fa-youtube-play"></i> Learn More</a>
                                                            </td>*@
                                                        @*<td class="action">

                                                                <a href="#" class="tooltip top">tooltip from top</a>
                                                                <a href="#" class="delete tooltip top"><i class="fa fa-remove"></i> Remove</a>
                                                            </td>*@
                                                    </tr>
                                                }

                                                @foreach (var item in Model.TimelineMissingData)
                                                {
                                                    <tr>
                                                        <td class="title-container">
                                                            <div class="title">

                                                                <h4 class="disabled" style="color:gray"> @item.Status</h4>
                                                                <span class="table-property-price" style="background:white"></span>
                                                            </div>
                                                        </td>
                                                        <td class="action"></td>
                                                        <td>
                                                            <div class="description">
                                                                <p title="@item.Description" class="masterTooltip text-info" style="color: #bdc0c4;">
                                                                    <i class="fa fa-info-circle" style="font-size:36px"></i>
                                                                </p>
                                                            </div>
                                                        </td>

                                                        @*<td class="action">
                                                                <a href="@item.VideoURL" class="delete swipebox-video"><i class="fa fa-youtube-play"></i> Learn More</a>
                                                            </td>*@
                                                    </tr>
                                                }

                                            </tbody>
                                        </table>
                                    </div>
                                    <div class="col-md-5">
                                        <div class="sidebar sticky right">


                                            <div class="widget">
                                                <h3 class="margin-top-0 widgettitle">Days to Close</h3>

                                                <div class="style-2">
                                                    <ul class="nav nav-tabs nav-tabs-items-4" role="tablist">
                                                        <li class="nav-item">
                                                            <a class="nav-link active" data-toggle="tab" href="#property-description">Settlement</a>
                                                        </li>
                                                        @if (@Convert.ToDateTime(@Model.ClosingDate.ClosingDate).Subtract(@DateTime.Now).Days > 0)
                                                        {
                                                            <li class="nav-item">
                                                                <a class="nav-link" data-toggle="tab" href="#property-amenities">Countdown</a>
                                                            </li>
                                                        }

                                                    </ul>
                                                    <div class="tab-content listing-detail">
                                                        <div class="tab-pane active" id="property-description" role="tabpanel">

                                                            <div class="calendar ">
                                                                <div class="week">
                                                                    @Model.ClosingDate.ClosingDate.ToString("dddd")
                                                                </div>
                                                                <div class="date">
                                                                    @Model.ClosingDate.ClosingDate.ToString("dd")
                                                                </div>
                                                                <div class="week" style="margin-top: -38px;margin-left: 28px">
                                                                    @Model.ClosingDate.ClosingDate.ToString("MMMM")
                                                                </div>
                                                            </div>
                                                        </div><!-- /.tab-pane -->


                                                        <div class="tab-pane" style="margin-top: -50px;" id="property-amenities" role="tabpanel">
                                                            <div id="clockdiv">
                                                                <div>
                                                                    <span class="days"></span>
                                                                    <div class="smalltext">Days</div>
                                                                </div>
                                                                <div>
                                                                    <span class="hours"></span>
                                                                    <div class="smalltext">Hours</div>
                                                                </div>
                                                                <div>
                                                                    <span class="minutes"></span>
                                                                    <div class="smalltext">Minutes</div>
                                                                </div>
                                                                <div>
                                                                    <span class="seconds"></span>
                                                                    <div class="smalltext">Seconds</div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div><!-- /.tab-content -->



                                                </div>
                                            </div>
                                            <div class="widget">
                                                <h3 class="widgettitle">Photo(s)</h3>

                                                @if (Model.ClosingDate.ListingTypeID.ToString() == "1")
                                                {

                                                    <div class="listing-box listing-box-simple">
                                                        <div class="listing-box-image" style="background-image: url('@Model.DisplayListing.ImageURL')">
                                                            <div class="listing-box-image-title">

                                                                @if (Model.DisplayListing.ListingSource.ToString() == "Compass")
                                                                {
                                                                    <h2><a target="_blank" href="@Url.Action("ListingDetails","Status",new {area="",mls_id=@Model.DisplayListing.MLSID })">@Model.DisplayListing.Address</a></h2>
                                                                }


                                                            </div><!-- /.listing-box-image-title -->


                                                        </div><!-- /.listing-box-image -->
                                                    </div>


                                                }

                                                else
                                                {
                                                    <div class="listing-box listing-box-simple">
                                                        <div class="listing-box-image" style="background-image: url('../../../../img/sell homee.jpg')">
                                                            <div class="listing-box-image-title">
                                                                <h2><a href="@Model.ClosingDate.URL">@Model.ClosingDate.Address</a></h2>

                                                            </div><!-- /.listing-box-image-title -->


                                                        </div><!-- /.listing-box-image -->
                                                    </div>

                                                }

                                            </div>

                                            <div class="custom-docu">
                                                <div class="widget">
                                                    <h3 class="widgettitle">Deal Documents</h3>
                                                    <div class="widget-docu">
                                                        <div class="tDocumentbody">
                                                        </div>
                                                        @if (Model.ClientDoc.Count() > 0)
                                                        {
                                                            foreach (var item in Model.ClientDoc)
                                                            {
                                                                <div class="listing-small ">
                                                                    <div class="listing-small-inner">
                                                                        <div class="listing-small-image">

                                                                            @if (@item.TrackDocFile.ToString() == ".jpg")
                                                                            {
                                                                                <a download href="~/UploadedFiles/TrackDeal/@item.DealTrackDocID@item.TrackDocFile" target="_blank" style="background-image: url('../../../../Content/AppDashboard/assets/img/tmp/jpeg.jpg');">
                                                                                </a>

                                                                            }
                                                                            @if (@item.TrackDocFile.ToString() == ".jpeg")
                                                                            {
                                                                                <a download href="~/UploadedFiles/TrackDeal/@item.DealTrackDocID@item.TrackDocFile" target="_blank" style="background-image: url('../../../../Content/AppDashboard/assets/img/tmp/jpeg.jpg');">
                                                                                </a>

                                                                            }
                                                                            @if (@item.TrackDocFile.ToString() == ".pdf")
                                                                            {
                                                                                <a download href="~/UploadedFiles/TrackDeal/@item.DealTrackDocID@item.TrackDocFile" target="_blank" style="background-image: url('../../../../Content/AppDashboard/assets/img/tmp/pdf.jpg');">
                                                                                </a>

                                                                            }

                                                                            @if (@item.TrackDocFile.ToString() == ".doc")
                                                                            {
                                                                                <a download href="~/UploadedFiles/TrackDeal/@item.DealTrackDocID@item.TrackDocFile" target="_blank" style="background-image: url('../../../../Content/AppDashboard/assets/img/tmp/doc.jpg');">
                                                                                </a>

                                                                            }
                                                                            @if (@item.TrackDocFile.ToString() == ".docx")
                                                                            {
                                                                                <a download href="~/UploadedFiles/TrackDeal/@item.DealTrackDocID@item.TrackDocFile" target="_blank" style="background-image: url('../../../../Content/AppDashboard/assets/img/tmp/doc.jpg');">
                                                                                </a>

                                                                            }

                                                                            @if (@item.TrackDocFile.ToString() == ".png")
                                                                            {
                                                                                <a download href="~/UploadedFiles/TrackDeal/@item.DealTrackDocID@item.TrackDocFile" target="_blank" style="background-image: url('../../../../Content/AppDashboard/assets/img/tmp/jpeg.jpg');">
                                                                                </a>

                                                                            }
                                                                            @if (@item.TrackDocFile.ToString() == ".txt")
                                                                            {
                                                                                <a download href="~/UploadedFiles/TrackDeal/@item.DealTrackDocID@item.TrackDocFile" target="_blank" style="background-image: url('../../../../Content/AppDashboard/assets/img/tmp/txt.jpg');">
                                                                                </a>

                                                                            }
                                                                        </div><!-- /.listing-small-image -->

                                                                        <div class="listing-small-content">
                                                                            <h3><a download href="~/UploadedFiles/TrackDeal/@item.DealTrackDocID@item.TrackDocFile" target="_blank">@item.FileName</a></h3>
                                                                        </div><!-- /.listing-small-content -->
                                                                    </div><!-- /.listing-small-inner -->
                                                                </div>
                                                            }
                                                        }

                                                    </div>

                                                    <div class="form-group-btn btn-mob">
                                                        <button type="button" class="btn btn-primary pull-left" style="background-color: #0bb7a5; border-color:#0bb7a5" data-toggle="modal" data-target="#DocumentModalPopUp" onclick="clearTextBox();">Add Document</button>

                                                    </div>
                                                </div>
                                            </div>
                                            <div class="widget-cust">
                                                <div class="widget">
                                                    <h3 class="widgettitle">Vendors</h3>
                                                    <div class="widget-vend vendorlist" id="vendorlist">
                                                        @if (Model.DealVendorList.Count() > 0)
                                                        {
                                                            foreach (var item in Model.DealVendorList)
                                                            {


                                                                <div class="post" style="margin:0 0 10px 0">


                                                                    @*<div class="post-title" style="font-size:0.6em">

                                                                            <h2><a href="#" style="cursor:initial;">@item.Ve2154ndorCompany </a></h2>
                                                                        </div>*@
                                                                    <div class="post-title pos-ttl-ven" style="font-size:0.6em">

                                                                        <h2>
                                                                            <a href="#" style="cursor:initial;" class="sassText">@item.VendorType: @item.Vendor  </a>

                                                                            @if (item.UserRole == "Client")
                                                                            {
                                                                                <span class="editIcons">
                                                                                    <a href="#!" id="editv" title="Edit" class="sassIcon" data-Vendor_Id="@item.Vendor_Id" data-DealVendor_Id="@item.DealVendorId"><img src="/img/edit-doc.png" /></a>

                                                                                    <a href="#!" id="deletev" title="Delete" class="sassIcon" data-Vendor_Id="@item.DealVendorId"><img src="/img/delete-doc.png" /></a>
                                                                                </span>
                                                                            }


                                                                        </h2>

                                                                    </div><!-- /.post-title -->

                                                                    @if (string.IsNullOrEmpty(item.VendorPhone) && string.IsNullOrEmpty(item.VendorEmail))
                                                                    {

                                                                    }
                                                                    else
                                                                    {
                                                                        <div class="post-meta phone-email-div">
                                                                            <!-- /.post-meta-item -->
                                                                            @if (!string.IsNullOrEmpty(item.VendorPhone))
                                                                            {
                                                                                <div class="post-meta-item">
                                                                                    <a href="tel:@item.VendorPhone" style="color: #0bb7a5"> <i class="fa fa-phone"></i> @item.VendorPhone</a>
                                                                                </div><!-- /.post-meta-item -->
                                                                            }
                                                                            @if (!string.IsNullOrEmpty(item.VendorEmail))
                                                                            {
                                                                                <div class="post-meta-item">
                                                                                    <i class="fa fa-envelope"></i> <a href="mailto:@item.VendorPhone" style="color: #0bb7a5">@item.VendorEmail</a>
                                                                                </div><!-- /.post-meta-item -->
                                                                            }
                                                                        </div><!-- /.post-meta -->
                                                                    }
                                                                    <!-- /.post-content -->
                                                                    <!-- /.post-read-more -->
                                                                </div>

                                                            }
                                                        }
                                                    </div>

                                                    <div class="form-group-btn btn-mob">
                                                        <button type="button" class="btn btn-primary pull-left" style="background-color: #0bb7a5; border-color:#0bb7a5" data-toggle="modal" data-target="#VendorModalPopUp" onclick="clearTextBoxVendor();">Add Vendor</button>

                                                    </div>
                                                </div>

                                            </div>


                                            <div class="widget-cust">
                                                <div class="widget">
                                                    <h3 class="widgettitle">Agenda</h3>
                                                    <div class="widget-vend Eventlist" id="Eventlist">
                                                        @if (Model.AppointmentList.Count() > 0)
                                                        {



                                                            <div class="post" style="margin:0 0 10px 0">

                                                                <table class="table table-bordered custTableAgenda table-striped ">
                                                                    <tbody>
                                                                        <tr>
                                                                            <th>Date</th>
                                                                            <th>Description</th>
                                                                            <th class="actionwdth">Action</th>
                                                                        </tr>
                                                                        @foreach (var item in Model.AppointmentList)
                                                                        {
                                                                            <tr>
                                                                                <td>@item.Date</td>
                                                                                <td>@item.Description</td>
                                                                                <td>
                                                                                    @if (item.UserRole == "Client")
                                                                                    {
                                                                                        <span class="editIcons">
                                                                                            <a href="#!" id="editevent" title="Edit" class="sassIcon" data-Event_Id="@item.Id" data-DealEvent_Id="@item.Id"><img src="/img/edit-doc.png" /></a>

                                                                                            <a href="#!" id="deletevent" title="Delete" class="sassIcon" data-Event_Id="@item.Id"><img src="/img/delete-doc.png" /></a>
                                                                                        </span>
                                                                                    }
                                                                                </td>
                                                                            </tr>

                                                                        }
                                                                    </tbody>

                                                                </table>


                                                            </div>


                                                        }
                                                    </div>

                                                    <div class="form-group-btn btn-mob">
                                                        <button type="button" class="btn btn-primary pull-left" style="background-color: #0bb7a5; border-color:#0bb7a5" data-toggle="modal" data-target="#EventModalPopUp" onclick="clearTextBoxEvent();">Add Event</button>
                                                        @*<a href="/Client/MyCalendar/List" class="btn btn-primary pull-left">
                                                                View Calendar
                                                            </a>*@

                                                    </div>
                                                </div>

                                            </div>



                                        </div>
                                    </div>
                                }

                                @if ((Model.MLSListing.Count() == 0) && (Model.MstGalleryList.Count() > 0))
                                {
                                    <div class="container">
                                        <div class="row">
                                            <div class="col-md-7 widget">
                                                <h3 class="margin-top-0 widgettitle">Progress</h3>

                                                <div class="main-search-input margin-bottom-40">
                                                    <div class="chart col-md-12" id="chartContainer" style="height: 280px;margin-left:-18px;"></div>
                                                </div>


                                                <table class="manage-table bookmarks-table responsive-table">
                                                    <tbody>
                                                        <tr>
                                                            <th>
                                                                <i class="fa fa-file-text"></i> Steps
                                                            </th>

                                                            <th></th>
                                                            <th>Description</th>
                                                        </tr>
                                                        @foreach (var item in Model.DealTimeline)
                                                        {
                                                            <tr>
                                                                @if (item.IsContingencies == true)
                                                                {
                                                                    if (item.IsApplicable == true)
                                                                    {
                                                                        <td class="title-container">
                                                                            <div class="title">

                                                                                <h4><a> ✔ @item.Status</a></h4>
                                                                                @if (@Convert.ToDateTime(item.UpdatedOn) > System.DateTime.Now)
                                                                                {
                                                                                    <span class="table-property-price text-danger">Expires on: @Convert.ToDateTime(item.UpdatedOn).ToString("MMM dd")</span>

                                                                                }
                                                                                else
                                                                                {
                                                                                    <span class="table-property-price">Completed: @Convert.ToDateTime(item.UpdatedOn).ToString("MMM dd")</span>

                                                                                }
                                                                            </div>
                                                                        </td>

                                                                    }
                                                                    else
                                                                    {
                                                                        <td class="title-container">
                                                                            <div class="title">

                                                                                <h4><a style="text-decoration:line-through;">@item.RowID) @item.Status</a></h4>
                                                                                <span class="table-property-price">Not Applicable</span>
                                                                            </div>
                                                                        </td>
                                                                    }
                                                                }
                                                                else
                                                                {
                                                                    <td class="title-container">
                                                                        <div class="title">

                                                                            <h4><a>✔ @item.Status</a></h4>
                                                                            <span class="table-property-price">@Convert.ToDateTime(item.UpdatedOn).ToString("MMM dd")</span>
                                                                        </div>
                                                                    </td>
                                                                }
                                                                <td class="action"></td>
                                                                <td>
                                                                    <div class="description">
                                                                        <p title="@item.Description" class="masterTooltip text-info" style="color: #0c0707;">
                                                                            <i class="fa fa-info-circle" style="font-size:36px"></i>
                                                                        </p>
                                                                    </div>
                                                                </td>

                                                                @*<td class="action">
                                                                        <a href="@item.VideoURL" class="delete swipebox-video"><i class="fa fa-youtube-play"></i> Learn More</a>
                                                                    </td>*@
                                                                @*<td class="action">

                                                                        <a href="#" class="tooltip top">tooltip from top</a>
                                                                        <a href="#" class="delete tooltip top"><i class="fa fa-remove"></i> Remove</a>
                                                                    </td>*@
                                                            </tr>
                                                        }

                                                        @foreach (var item in Model.TimelineMissingData)
                                                        {
                                                            <tr>
                                                                <td class="title-container">
                                                                    <div class="title">

                                                                        <h4 class="disabled" style="color:gray"> @item.Status</h4>
                                                                        <span class="table-property-price" style="background:white"></span>
                                                                    </div>
                                                                </td>
                                                                <td class="action"></td>
                                                                <td>
                                                                    <div class="description">
                                                                        <p title="@item.Description" class="masterTooltip text-info" style="color: #bdc0c4;">
                                                                            <i class="fa fa-info-circle" style="font-size:36px"></i>
                                                                        </p>
                                                                    </div>
                                                                </td>

                                                                @*<td class="action">
                                                                        <a href="@item.VideoURL" class="delete swipebox-video"><i class="fa fa-youtube-play"></i> Learn More</a>
                                                                    </td>*@
                                                                @*<td class="action">

                                                                        <a href="#" class="tooltip top">tooltip from top</a>
                                                                        <a href="#" class="delete tooltip top"><i class="fa fa-remove"></i> Remove</a>
                                                                    </td>*@
                                                            </tr>
                                                        }
                                                    </tbody>
                                                </table>
                                            </div>
                                            <div class="col-md-5">
                                                <div class="sidebar sticky right">
                                                    <div class="widget" id="Photos">
                                                        <h3 class="widgettitle">Photo Gallery</h3>


                                                        <div id="jssor_1" style="position:relative;margin:0 auto;top:0px;left:0px;width:980px;height:580px;overflow:hidden;visibility:hidden;">
                                                            <!-- Loading Screen -->
                                                            @*<div data-u="loading" class="jssorl-009-spin" style="position:absolute;top:0px;left:0px;width:100%;height:100%;text-align:center;background-color:rgba(0,0,0,0.7);">
                                                                    <img style="margin-top:-19px;position:relative;top:50%;width:38px;height:38px;" src="~/img/spin.svg" />
                                                                </div>*@
                                                            <div data-u="slides" style="cursor:default;position:relative;top:0px;left:0px;width:980px;height:580px;overflow:hidden;">
                                                                @foreach (var item in Model.MstGalleryList)
                                                                { <div data-idle="5000">
                                                                    <a href="/UploadedFiles/PhotoGallery/@item.GallaryID@item.PhotoNormal" class="swipebox" title="@item.Description">
                                                                        <img data-u="image" src="@item.PhotoThumb" alt="" height="580" width="350">
                                                                    </a>
                                                                    <figcaption>@item.Description</figcaption>

                                                                </div>

                                                                }

                                                                <a data-u="any" href="https://www.jssor.com" style="display:none">slider in bootstrap</a>
                                                            </div>
                                                            <!-- Bullet Navigator -->
                                                            <div data-u="navigator" class="jssorb053" style="position:absolute;bottom:12px;right:12px;" data-autocenter="1" data-scale="0.5" data-scale-bottom="0.75">
                                                                <div data-u="prototype" class="i" style="width:16px;height:16px;">
                                                                    <svg viewbox="0 0 16000 16000" style="position:absolute;top:0;left:0;width:100%;height:100%;">
                                                                        <path class="b" d="M11400,13800H4600c-1320,0-2400-1080-2400-2400V4600c0-1320,1080-2400,2400-2400h6800 c1320,0,2400,1080,2400,2400v6800C13800,12720,12720,13800,11400,13800z"></path>
                                                                    </svg>
                                                                </div>
                                                            </div>
                                                            <!-- Arrow Navigator -->
                                                            <div data-u="arrowleft" class="jssora093" style="width:50px;height:50px;top:0px;left:30px;" data-autocenter="2" data-scale="0.75" data-scale-left="0.75">
                                                                <svg viewbox="0 0 16000 16000" style="position:absolute;top:0;left:0;width:100%;height:100%;">
                                                                    <circle class="c" cx="8000" cy="8000" r="5920"></circle>
                                                                    <polyline class="a" points="7777.8,6080 5857.8,8000 7777.8,9920 "></polyline>
                                                                    <line class="a" x1="10142.2" y1="8000" x2="5857.8" y2="8000"></line>
                                                                </svg>
                                                            </div>
                                                            <div data-u="arrowright" class="jssora093" style="width:50px;height:50px;top:0px;right:30px;" data-autocenter="2" data-scale="0.75" data-scale-right="0.75">
                                                                <svg viewbox="0 0 16000 16000" style="position:absolute;top:0;left:0;width:100%;height:100%;">
                                                                    <circle class="c" cx="8000" cy="8000" r="5920"></circle>
                                                                    <polyline class="a" points="8222.2,6080 10142.2,8000 8222.2,9920 "></polyline>
                                                                    <line class="a" x1="5857.8" y1="8000" x2="10142.2" y2="8000"></line>
                                                                </svg>
                                                            </div>
                                                        </div>





                                                    </div>

                                                    <div class="custom-docu">
                                                        <div class="widget">
                                                            <h3 class="widgettitle">Deal Documents</h3>
                                                            <div class="widget-docu">
                                                                <div class="tDocumentbody">
                                                                </div>
                                                                @if (Model.ClientDoc.Count() > 0)
                                                                {
                                                                    foreach (var item in Model.ClientDoc)
                                                                    {
                                                                        <div class="listing-small ">
                                                                            <div class="listing-small-inner">
                                                                                <div class="listing-small-image">

                                                                                    @if (@item.TrackDocFile.ToString() == ".jpg")
                                                                                    {
                                                                                        <a download href="~/UploadedFiles/TrackDeal/@item.DealTrackDocID@item.TrackDocFile" target="_blank" style="background-image: url('../../../../Content/AppDashboard/assets/img/tmp/jpeg.jpg');">
                                                                                        </a>

                                                                                    }
                                                                                    @if (@item.TrackDocFile.ToString() == ".jpeg")
                                                                                    {
                                                                                        <a download href="~/UploadedFiles/TrackDeal/@item.DealTrackDocID@item.TrackDocFile" target="_blank" style="background-image: url('../../../../Content/AppDashboard/assets/img/tmp/jpeg.jpg');">
                                                                                        </a>

                                                                                    }
                                                                                    @if (@item.TrackDocFile.ToString() == ".pdf")
                                                                                    {
                                                                                        <a download href="~/UploadedFiles/TrackDeal/@item.DealTrackDocID@item.TrackDocFile" target="_blank" style="background-image: url('../../../../Content/AppDashboard/assets/img/tmp/pdf.jpg');">
                                                                                        </a>

                                                                                    }

                                                                                    @if (@item.TrackDocFile.ToString() == ".doc")
                                                                                    {
                                                                                        <a download href="~/UploadedFiles/TrackDeal/@item.DealTrackDocID@item.TrackDocFile" target="_blank" style="background-image: url('../../../../Content/AppDashboard/assets/img/tmp/doc.jpg');">
                                                                                        </a>

                                                                                    }
                                                                                    @if (@item.TrackDocFile.ToString() == ".docx")
                                                                                    {
                                                                                        <a download href="~/UploadedFiles/TrackDeal/@item.DealTrackDocID@item.TrackDocFile" target="_blank" style="background-image: url('../../../../Content/AppDashboard/assets/img/tmp/doc.jpg');">
                                                                                        </a>

                                                                                    }

                                                                                    @if (@item.TrackDocFile.ToString() == ".png")
                                                                                    {
                                                                                        <a download href="~/UploadedFiles/TrackDeal/@item.DealTrackDocID@item.TrackDocFile" target="_blank" style="background-image: url('../../../../Content/AppDashboard/assets/img/tmp/jpeg.jpg');">
                                                                                        </a>

                                                                                    }
                                                                                    @if (@item.TrackDocFile.ToString() == ".txt")
                                                                                    {
                                                                                        <a download href="~/UploadedFiles/TrackDeal/@item.DealTrackDocID@item.TrackDocFile" target="_blank" style="background-image: url('../../../../Content/AppDashboard/assets/img/tmp/txt.jpg');">
                                                                                        </a>

                                                                                    }
                                                                                </div><!-- /.listing-small-image -->

                                                                                <div class="listing-small-content">
                                                                                    <h3><a download href="~/UploadedFiles/TrackDeal/@item.DealTrackDocID@item.TrackDocFile" target="_blank">@item.FileName</a></h3>
                                                                                </div><!-- /.listing-small-content -->
                                                                            </div><!-- /.listing-small-inner -->
                                                                        </div>
                                                                    }
                                                                }

                                                            </div>

                                                            <div class="form-group-btn btn-mob">
                                                                <button type="button" class="btn btn-primary pull-left" style="background-color: #0bb7a5; border-color:#0bb7a5" data-toggle="modal" data-target="#DocumentModalPopUp" onclick="clearTextBox();">Add Document</button>

                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="widget-cust">
                                                        <div class="widget">
                                                            <h3 class="widgettitle">Vendors</h3>
                                                            <div class="widget-vend vendorlist" id="vendorlist">
                                                                @if (Model.DealVendorList.Count() > 0)
                                                                {
                                                                    foreach (var item in Model.DealVendorList)
                                                                    {


                                                                        <div class="post" style="margin:0 0 10px 0">


                                                                            @*<div class="post-title" style="font-size:0.6em">

                                                                                    <h2><a href="#" style="cursor:initial;">@item.VendorCompany </a></h2>
                                                                                </div>*@
                                                                            <div class="post-title pos-ttl-ven" style="font-size:0.6em">

                                                                                <h2>
                                                                                    <a href="#" style="cursor:initial;" class="sassText">@item.VendorType: @item.Vendor  </a>

                                                                                    @if (item.UserRole == "Client")
                                                                                    {
                                                                                        <span class="editIcons">
                                                                                            <a href="#!" id="editv" title="Edit" class="sassIcon" data-Vendor_Id="@item.Vendor_Id" data-DealVendor_Id="@item.DealVendorId"><img src="/img/edit-doc.png" /></a>

                                                                                            <a href="#!" id="deletev" title="Delete" class="sassIcon" data-Vendor_Id="@item.DealVendorId"><img src="/img/delete-doc.png" /></a>
                                                                                        </span>
                                                                                    }


                                                                                </h2>

                                                                            </div><!-- /.post-title -->

                                                                            @if (string.IsNullOrEmpty(item.VendorPhone) && string.IsNullOrEmpty(item.VendorEmail))
                                                                            {

                                                                            }
                                                                            else
                                                                            {
                                                                                <div class="post-meta phone-email-div">
                                                                                    <!-- /.post-meta-item -->
                                                                                    @if (!string.IsNullOrEmpty(item.VendorPhone))
                                                                                    {
                                                                                        <div class="post-meta-item">
                                                                                            <a href="tel:@item.VendorPhone" style="color: #0bb7a5"> <i class="fa fa-phone"></i> @item.VendorPhone</a>
                                                                                        </div><!-- /.post-meta-item -->
                                                                                    }
                                                                                    @if (!string.IsNullOrEmpty(item.VendorEmail))
                                                                                    {
                                                                                        <div class="post-meta-item">
                                                                                            <i class="fa fa-envelope"></i> <a href="mailto:@item.VendorPhone" style="color: #0bb7a5">@item.VendorEmail</a>
                                                                                        </div><!-- /.post-meta-item -->
                                                                                    }
                                                                                </div><!-- /.post-meta -->
                                                                            }
                                                                            <!-- /.post-content -->
                                                                            <!-- /.post-read-more -->
                                                                        </div>

                                                                    }
                                                                }
                                                            </div>

                                                            <div class="form-group-btn btn-mob">
                                                                <button type="button" class="btn btn-primary pull-left" style="background-color: #0bb7a5; border-color:#0bb7a5" data-toggle="modal" data-target="#VendorModalPopUp" onclick="clearTextBoxVendor();">Add Vendor</button>

                                                            </div>
                                                        </div>

                                                    </div>


                                                    <div class="widget-cust">
                                                        <div class="widget">
                                                            <h3 class="widgettitle">Agenda</h3>
                                                            <div class="widget-vend Eventlist" id="Eventlist">
                                                                @if (Model.AppointmentList.Count() > 0)
                                                                {



                                                                    <div class="post" style="margin:0 0 10px 0">

                                                                        <table class="table table-bordered custTableAgenda table-striped ">
                                                                            <tbody>
                                                                                <tr>
                                                                                    <th>Date</th>
                                                                                    <th>Description</th>
                                                                                    <th class="actionwdth">Action</th>
                                                                                </tr>
                                                                                @foreach (var item in Model.AppointmentList)
                                                                                {
                                                                                    <tr>
                                                                                        <td>@item.Date</td>
                                                                                        <td>@item.Description</td>
                                                                                        <td>
                                                                                            @if (item.UserRole == "Client")
                                                                                            {
                                                                                                <span class="editIcons">
                                                                                                    <a href="#!" id="editevent" title="Edit" class="sassIcon" data-Event_Id="@item.Id" data-DealEvent_Id="@item.Id"><img src="/img/edit-doc.png" /></a>

                                                                                                    <a href="#!" id="deletevent" title="Delete" class="sassIcon" data-Event_Id="@item.Id"><img src="/img/delete-doc.png" /></a>
                                                                                                </span>"E:\BE\RealEstate.Web\Areas\Client\Views\MyDeal\Status.cshtml"
                                                    if (Model.BuildingView != null)
                                                                                                {}
                                                                                        </td>
                                                                                    </tr>

                                                                                }
                                                                            </tbody>

                                                                        </table>


                                                                    </div>


                                                                }
                                                            </div>

                                                            <div class="form-group-btn btn-mob">
                                                                <button type="button" class="btn btn-primary pull-left" style="background-color: #0bb7a5; border-color:#0bb7a5" data-toggle="modal" data-target="#EventModalPopUp" onclick="clearTextBoxEvent();">Add Event</button>
                                                                @*<a href="/Client/MyCalendar/List" class="btn btn-primary pull-left">
                                                                        View Calendar
                                                                    </a>*@

                                                            </div>
                                                        </div>

                                                    </div>



                                                </div>
                                            </div>
                                        </div>

                                    </div>
                                }

                                @if ((Model.MLSListing.Count() > 0) && (Model.MstGalleryList.Count() > 0))
                                {


#line default
#line hidden

#line 217 "E:\BE\RealEstate.Web\Areas\Client\Views\MyDeal\Status.cshtml"
                                    foreach (var item in Model.DealTimeline)
                                    {


#line default
#line hidden

#line 218 "E:\BE\RealEstate.Web\Areas\Client\Views\MyDeal\Status.cshtml"
                                        if (item.IsContingencies == true)
                                        {
                                            if (item.IsApplicable == true)
                                            {


#line default
#line hidden

#line 219 "E:\BE\RealEstate.Web\Areas\Client\Views\MyDeal\Status.cshtml"
                                                __o = item.Status;


#line default
#line hidden

#line 220 "E:\BE\RealEstate.Web\Areas\Client\Views\MyDeal\Status.cshtml"
                                                if (@Convert.ToDateTime(item.UpdatedOn) > System.DateTime.Now)
                                                {


#line default
#line hidden

#line 221 "E:\BE\RealEstate.Web\Areas\Client\Views\MyDeal\Status.cshtml"
                                                    __o = Convert.ToDateTime(item.UpdatedOn).ToString("MMM dd");


#line default
#line hidden

#line 222 "E:\BE\RealEstate.Web\Areas\Client\Views\MyDeal\Status.cshtml"


                                                }
                                                else
                                                {


#line default
#line hidden

#line 223 "E:\BE\RealEstate.Web\Areas\Client\Views\MyDeal\Status.cshtml"
                                                    __o = Convert.ToDateTime(item.UpdatedOn).ToString("MMM dd");


#line default
#line hidden

#line 224 "E:\BE\RealEstate.Web\Areas\Client\Views\MyDeal\Status.cshtml"


                                                }

#line default
#line hidden

#line 225 "E:\BE\RealEstate.Web\Areas\Client\Views\MyDeal\Status.cshtml"


                                            }
                                            else
                                            {


#line default
#line hidden

#line 226 "E:\BE\RealEstate.Web\Areas\Client\Views\MyDeal\Status.cshtml"
                                                __o = item.RowID;


#line default
#line hidden

#line 227 "E:\BE\RealEstate.Web\Areas\Client\Views\MyDeal\Status.cshtml"
                                                __o = item.Status;


#line default
#line hidden

#line 228 "E:\BE\RealEstate.Web\Areas\Client\Views\MyDeal\Status.cshtml"

                                            }
                                        }
                                        else
                                        {


#line default
#line hidden

#line 229 "E:\BE\RealEstate.Web\Areas\Client\Views\MyDeal\Status.cshtml"
                                            __o = item.Status;


#line default
#line hidden

#line 230 "E:\BE\RealEstate.Web\Areas\Client\Views\MyDeal\Status.cshtml"
                                            __o = Convert.ToDateTime(item.UpdatedOn).ToString("MMM dd");


#line default
#line hidden

#line 231 "E:\BE\RealEstate.Web\Areas\Client\Views\MyDeal\Status.cshtml"

                                        }

#line default
#line hidden

#line 232 "E:\BE\RealEstate.Web\Areas\Client\Views\MyDeal\Status.cshtml"
                                        __o = item.Description;


#line default
#line hidden

#line 233 "E:\BE\RealEstate.Web\Areas\Client\Views\MyDeal\Status.cshtml"

                                    }

#line default
#line hidden

#line 234 "E:\BE\RealEstate.Web\Areas\Client\Views\MyDeal\Status.cshtml"
                                    foreach (var item in Model.TimelineMissingData)
                                    {


#line default
#line hidden

#line 235 "E:\BE\RealEstate.Web\Areas\Client\Views\MyDeal\Status.cshtml"
                                        __o = item.Status;


#line default
#line hidden

#line 236 "E:\BE\RealEstate.Web\Areas\Client\Views\MyDeal\Status.cshtml"
                                        __o = item.Description;


#line default
#line hidden

#line 237 "E:\BE\RealEstate.Web\Areas\Client\Views\MyDeal\Status.cshtml"

                                    }

#line default
#line hidden

#line 238 "E:\BE\RealEstate.Web\Areas\Client\Views\MyDeal\Status.cshtml"



#line default
#line hidden

#line 239 "E:\BE\RealEstate.Web\Areas\Client\Views\MyDeal\Status.cshtml"
                                    foreach (var item in Model.MstGalleryList)
                                    {

#line default
#line hidden

#line 240 "E:\BE\RealEstate.Web\Areas\Client\Views\MyDeal\Status.cshtml"
                                        __o = item.GallaryID;


#line default
#line hidden

#line 241 "E:\BE\RealEstate.Web\Areas\Client\Views\MyDeal\Status.cshtml"
                                        __o = item.PhotoNormal;


#line default
#line hidden

#line 242 "E:\BE\RealEstate.Web\Areas\Client\Views\MyDeal\Status.cshtml"
                                        __o = item.Description;


#line default
#line hidden

#line 243 "E:\BE\RealEstate.Web\Areas\Client\Views\MyDeal\Status.cshtml"
                                        __o = item.PhotoThumb;


#line default
#line hidden

#line 244 "E:\BE\RealEstate.Web\Areas\Client\Views\MyDeal\Status.cshtml"
                                        __o = item.Description;


#line default
#line hidden

#line 245 "E:\BE\RealEstate.Web\Areas\Client\Views\MyDeal\Status.cshtml"


                                    }

#line default
#line hidden

#line 246 "E:\BE\RealEstate.Web\Areas\Client\Views\MyDeal\Status.cshtml"
                                    if (@Convert.ToDateTime(@Model.ClosingDate.ClosingDate).Subtract(@DateTime.Now).Days > 0)
                                    {


#line default
#line hidden

#line 247 "E:\BE\RealEstate.Web\Areas\Client\Views\MyDeal\Status.cshtml"

                                    }

#line default
#line hidden

#line 248 "E:\BE\RealEstate.Web\Areas\Client\Views\MyDeal\Status.cshtml"
                                    __o = Model.ClosingDate.ClosingDate.ToString("dddd");


#line default
#line hidden

#line 249 "E:\BE\RealEstate.Web\Areas\Client\Views\MyDeal\Status.cshtml"
                                    __o = Model.ClosingDate.ClosingDate.ToString("dd");


#line default
#line hidden

#line 250 "E:\BE\RealEstate.Web\Areas\Client\Views\MyDeal\Status.cshtml"
                                    __o = Model.ClosingDate.ClosingDate.ToString("MMMM");


#line default
#line hidden

#line 251 "E:\BE\RealEstate.Web\Areas\Client\Views\MyDeal\Status.cshtml"
                                    if (Model.ClosingDate.ListingTypeID.ToString() == "1")
                                    {



#line default
#line hidden

#line 252 "E:\BE\RealEstate.Web\Areas\Client\Views\MyDeal\Status.cshtml"
                                        __o = Model.DisplayListing.ImageURL;


#line default
#line hidden

#line 253 "E:\BE\RealEstate.Web\Areas\Client\Views\MyDeal\Status.cshtml"
                                        if (Model.DisplayListing.ListingSource.ToString() == "Compass")
                                        {


#line default
#line hidden

#line 254 "E:\BE\RealEstate.Web\Areas\Client\Views\MyDeal\Status.cshtml"
                                            __o = Url.Action("Details","Listing",new {area="",mls_id=@Model.DisplayListing.MLSID });


#line default
#line hidden

#line 255 "E:\BE\RealEstate.Web\Areas\Client\Views\MyDeal\Status.cshtml"
                                            __o = Model.DisplayListing.Address;


#line default
#line hidden

#line 256 "E:\BE\RealEstate.Web\Areas\Client\Views\MyDeal\Status.cshtml"


                                        }

#line default
#line hidden

#line 257 "E:\BE\RealEstate.Web\Areas\Client\Views\MyDeal\Status.cshtml"

                                    }

                                    else
                                    {



#line default
#line hidden

#line 258 "E:\BE\RealEstate.Web\Areas\Client\Views\MyDeal\Status.cshtml"
                                        __o = Model.ClosingDate.URL;


#line default
#line hidden

#line 259 "E:\BE\RealEstate.Web\Areas\Client\Views\MyDeal\Status.cshtml"
                                        __o = Model.ClosingDate.Address;


#line default
#line hidden

#line 260 "E:\BE\RealEstate.Web\Areas\Client\Views\MyDeal\Status.cshtml"


                                    }

#line default
#line hidden

#line 261 "E:\BE\RealEstate.Web\Areas\Client\Views\MyDeal\Status.cshtml"
                                    if (Model.ClientDoc.Count() > 0)
                                    {
                                        foreach (var item in Model.ClientDoc)
                                        {


#line default
#line hidden

#line 262 "E:\BE\RealEstate.Web\Areas\Client\Views\MyDeal\Status.cshtml"
                                            if (@item.TrackDocFile.ToString() == ".jpg")
                                            {


#line default
#line hidden

#line 263 "E:\BE\RealEstate.Web\Areas\Client\Views\MyDeal\Status.cshtml"
                                                __o = item.DealTrackDocID;


#line default
#line hidden

#line 264 "E:\BE\RealEstate.Web\Areas\Client\Views\MyDeal\Status.cshtml"
                                                __o = item.TrackDocFile;


#line default
#line hidden

#line 265 "E:\BE\RealEstate.Web\Areas\Client\Views\MyDeal\Status.cshtml"


                                            }

#line default
#line hidden

#line 266 "E:\BE\RealEstate.Web\Areas\Client\Views\MyDeal\Status.cshtml"
                                            if (@item.TrackDocFile.ToString() == ".jpeg")
                                            {


#line default
#line hidden

#line 267 "E:\BE\RealEstate.Web\Areas\Client\Views\MyDeal\Status.cshtml"
                                                __o = item.DealTrackDocID;


#line default
#line hidden

#line 268 "E:\BE\RealEstate.Web\Areas\Client\Views\MyDeal\Status.cshtml"
                                                __o = item.TrackDocFile;


#line default
#line hidden

#line 269 "E:\BE\RealEstate.Web\Areas\Client\Views\MyDeal\Status.cshtml"


                                            }

#line default
#line hidden

#line 270 "E:\BE\RealEstate.Web\Areas\Client\Views\MyDeal\Status.cshtml"
                                            if (@item.TrackDocFile.ToString() == ".pdf")
                                            {


#line default
#line hidden

#line 271 "E:\BE\RealEstate.Web\Areas\Client\Views\MyDeal\Status.cshtml"
                                                __o = item.DealTrackDocID;


#line default
#line hidden

#line 272 "E:\BE\RealEstate.Web\Areas\Client\Views\MyDeal\Status.cshtml"
                                                __o = item.TrackDocFile;


#line default
#line hidden

#line 273 "E:\BE\RealEstate.Web\Areas\Client\Views\MyDeal\Status.cshtml"


                                            }

#line default
#line hidden

#line 274 "E:\BE\RealEstate.Web\Areas\Client\Views\MyDeal\Status.cshtml"
                                            if (@item.TrackDocFile.ToString() == ".doc")
                                            {


#line default
#line hidden

#line 275 "E:\BE\RealEstate.Web\Areas\Client\Views\MyDeal\Status.cshtml"
                                                __o = item.DealTrackDocID;


#line default
#line hidden

#line 276 "E:\BE\RealEstate.Web\Areas\Client\Views\MyDeal\Status.cshtml"
                                                __o = item.TrackDocFile;


#line default
#line hidden

#line 277 "E:\BE\RealEstate.Web\Areas\Client\Views\MyDeal\Status.cshtml"


                                            }

#line default
#line hidden

#line 278 "E:\BE\RealEstate.Web\Areas\Client\Views\MyDeal\Status.cshtml"
                                            if (@item.TrackDocFile.ToString() == ".docx")
                                            {


#line default
#line hidden

#line 279 "E:\BE\RealEstate.Web\Areas\Client\Views\MyDeal\Status.cshtml"
                                                __o = item.DealTrackDocID;


#line default
#line hidden

#line 280 "E:\BE\RealEstate.Web\Areas\Client\Views\MyDeal\Status.cshtml"
                                                __o = item.TrackDocFile;


#line default
#line hidden

#line 281 "E:\BE\RealEstate.Web\Areas\Client\Views\MyDeal\Status.cshtml"


                                            }

#line default
#line hidden

#line 282 "E:\BE\RealEstate.Web\Areas\Client\Views\MyDeal\Status.cshtml"
                                            if (@item.TrackDocFile.ToString() == ".png")
                                            {


#line default
#line hidden

#line 283 "E:\BE\RealEstate.Web\Areas\Client\Views\MyDeal\Status.cshtml"
                                                __o = item.DealTrackDocID;


#line default
#line hidden

#line 284 "E:\BE\RealEstate.Web\Areas\Client\Views\MyDeal\Status.cshtml"
                                                __o = item.TrackDocFile;


#line default
#line hidden

#line 285 "E:\BE\RealEstate.Web\Areas\Client\Views\MyDeal\Status.cshtml"


                                            }

#line default
#line hidden

#line 286 "E:\BE\RealEstate.Web\Areas\Client\Views\MyDeal\Status.cshtml"
                                            if (@item.TrackDocFile.ToString() == ".txt")
                                            {


#line default
#line hidden

#line 287 "E:\BE\RealEstate.Web\Areas\Client\Views\MyDeal\Status.cshtml"
                                                __o = item.DealTrackDocID;


#line default
#line hidden

#line 288 "E:\BE\RealEstate.Web\Areas\Client\Views\MyDeal\Status.cshtml"
                                                __o = item.TrackDocFile;


#line default
#line hidden

#line 289 "E:\BE\RealEstate.Web\Areas\Client\Views\MyDeal\Status.cshtml"


                                            }

#line default
#line hidden

#line 290 "E:\BE\RealEstate.Web\Areas\Client\Views\MyDeal\Status.cshtml"
                                            __o = item.DealTrackDocID;


#line default
#line hidden

#line 291 "E:\BE\RealEstate.Web\Areas\Client\Views\MyDeal\Status.cshtml"
                                            __o = item.TrackDocFile;


#line default
#line hidden

#line 292 "E:\BE\RealEstate.Web\Areas\Client\Views\MyDeal\Status.cshtml"
                                            __o = item.FileName;


#line default
#line hidden

#line 293 "E:\BE\RealEstate.Web\Areas\Client\Views\MyDeal\Status.cshtml"

                                        }
                                    }

#line default
#line hidden

#line 294 "E:\BE\RealEstate.Web\Areas\Client\Views\MyDeal\Status.cshtml"
                                    if (Model.DealVendorList.Count() > 0)
                                    {
                                        foreach (var item in Model.DealVendorList)
                                        {




#line default
#line hidden

#line 295 "E:\BE\RealEstate.Web\Areas\Client\Views\MyDeal\Status.cshtml"
                                            __o = item.VendorType;


#line default
#line hidden

#line 296 "E:\BE\RealEstate.Web\Areas\Client\Views\MyDeal\Status.cshtml"
                                            __o = item.Vendor;


#line default
#line hidden

#line 297 "E:\BE\RealEstate.Web\Areas\Client\Views\MyDeal\Status.cshtml"
                                            if (item.UserRole == "Client")
                                            {


#line default
#line hidden

#line 298 "E:\BE\RealEstate.Web\Areas\Client\Views\MyDeal\Status.cshtml"
                                                __o = item.Vendor_Id;


#line default
#line hidden

#line 299 "E:\BE\RealEstate.Web\Areas\Client\Views\MyDeal\Status.cshtml"
                                                __o = item.DealVendorId;


#line default
#line hidden

#line 300 "E:\BE\RealEstate.Web\Areas\Client\Views\MyDeal\Status.cshtml"
                                                __o = item.DealVendorId;


#line default
#line hidden

#line 301 "E:\BE\RealEstate.Web\Areas\Client\Views\MyDeal\Status.cshtml"

                                            }

#line default
#line hidden

#line 302 "E:\BE\RealEstate.Web\Areas\Client\Views\MyDeal\Status.cshtml"
                                            if (string.IsNullOrEmpty(item.VendorPhone) && string.IsNullOrEmpty(item.VendorEmail))
                                            {

                                            }
                                            else
                                            {


#line default
#line hidden

#line 303 "E:\BE\RealEstate.Web\Areas\Client\Views\MyDeal\Status.cshtml"
                                                if (!string.IsNullOrEmpty(item.VendorPhone))
                                                {


#line default
#line hidden

#line 304 "E:\BE\RealEstate.Web\Areas\Client\Views\MyDeal\Status.cshtml"
                                                    __o = item.VendorPhone;


#line default
#line hidden

#line 305 "E:\BE\RealEstate.Web\Areas\Client\Views\MyDeal\Status.cshtml"
                                                    __o = item.VendorPhone;


#line default
#line hidden

#line 306 "E:\BE\RealEstate.Web\Areas\Client\Views\MyDeal\Status.cshtml"

                                                }

#line default
#line hidden

#line 307 "E:\BE\RealEstate.Web\Areas\Client\Views\MyDeal\Status.cshtml"
                                                if (!string.IsNullOrEmpty(item.VendorEmail))
                                                {


#line default
#line hidden

#line 308 "E:\BE\RealEstate.Web\Areas\Client\Views\MyDeal\Status.cshtml"
                                                    __o = item.VendorPhone;


#line default
#line hidden

#line 309 "E:\BE\RealEstate.Web\Areas\Client\Views\MyDeal\Status.cshtml"
                                                    __o = item.VendorEmail;


#line default
#line hidden

#line 310 "E:\BE\RealEstate.Web\Areas\Client\Views\MyDeal\Status.cshtml"

                                                }

#line default
#line hidden

#line 311 "E:\BE\RealEstate.Web\Areas\Client\Views\MyDeal\Status.cshtml"

                                            }

#line default
#line hidden

#line 312 "E:\BE\RealEstate.Web\Areas\Client\Views\MyDeal\Status.cshtml"


                                        }
                                    }

#line default
#line hidden

#line 313 "E:\BE\RealEstate.Web\Areas\Client\Views\MyDeal\Status.cshtml"
                                    if (Model.AppointmentList.Count() > 0)
                                    {





#line default
#line hidden

#line 314 "E:\BE\RealEstate.Web\Areas\Client\Views\MyDeal\Status.cshtml"
                                        foreach (var item in Model.AppointmentList)
                                        {


#line default
#line hidden

#line 315 "E:\BE\RealEstate.Web\Areas\Client\Views\MyDeal\Status.cshtml"
                                            __o = item.Date;


#line default
#line hidden

#line 316 "E:\BE\RealEstate.Web\Areas\Client\Views\MyDeal\Status.cshtml"
                                            __o = item.Description;


#line default
#line hidden

#line 317 "E:\BE\RealEstate.Web\Areas\Client\Views\MyDeal\Status.cshtml"
                                            if (item.UserRole == "Client")
                                            {


#line default
#line hidden

#line 318 "E:\BE\RealEstate.Web\Areas\Client\Views\MyDeal\Status.cshtml"
                                                __o = item.Id;


#line default
#line hidden

#line 319 "E:\BE\RealEstate.Web\Areas\Client\Views\MyDeal\Status.cshtml"
                                                __o = item.Id;


#line default
#line hidden

#line 320 "E:\BE\RealEstate.Web\Areas\Client\Views\MyDeal\Status.cshtml"
                                                __o = item.Id;


#line default
#line hidden

#line 321 "E:\BE\RealEstate.Web\Areas\Client\Views\MyDeal\Status.cshtml"

                                            }

#line default
#line hidden

#line 322 "E:\BE\RealEstate.Web\Areas\Client\Views\MyDeal\Status.cshtml"


                                        }

#line default
#line hidden

#line 323 "E:\BE\RealEstate.Web\Areas\Client\Views\MyDeal\Status.cshtml"



                                    }

#line default
#line hidden

#line 324 "E:\BE\RealEstate.Web\Areas\Client\Views\MyDeal\Status.cshtml"
                                    if (Model.BuildingView != null)
                                    {


#line default
#line hidden

#line 325 "E:\BE\RealEstate.Web\Areas\Client\Views\MyDeal\Status.cshtml"
                                        __o = Model.BuildingView.Image;


#line default
#line hidden

#line 326 "E:\BE\RealEstate.Web\Areas\Client\Views\MyDeal\Status.cshtml"
                                        __o = Model.BuildingView.BuildingId;


#line default
#line hidden

#line 327 "E:\BE\RealEstate.Web\Areas\Client\Views\MyDeal\Status.cshtml"
                                        __o = Model.BuildingView.Name;


#line default
#line hidden

#line 328 "E:\BE\RealEstate.Web\Areas\Client\Views\MyDeal\Status.cshtml"
                                        __o = Model.BuildingView.Neighborhood;


#line default
#line hidden

#line 329 "E:\BE\RealEstate.Web\Areas\Client\Views\MyDeal\Status.cshtml"

                                    }

#line default
#line hidden

#line 330 "E:\BE\RealEstate.Web\Areas\Client\Views\MyDeal\Status.cshtml"

                                }

#line default
#line hidden

#line 331 "E:\BE\RealEstate.Web\Areas\Client\Views\MyDeal\Status.cshtml"
                                if ((Model.MLSListing.Count() == 0) && (Model.MstGalleryList.Count() == 0) && (Model.ClientDoc.Count() > 0 || Model.DealVendorList.Count() > 0 || Model.Agenda.Count() > 0)||Model.BuildingView!=null)
                                {
                                    <div class="col-md-7 widget">
                                        <h3 class="margin-top-0 widgettitle">Progress</h3>

                                        <div class="main-search-input margin-bottom-40">
                                            <div class="chart col-md-12" id="chartContainer" style="height: 280px;margin-left:-18px;"></div>
                                        </div>
                                        <div>
                                            <table class="manage-table bookmarks-table responsive-table">
                                                <tbody>
                                                    <tr>
                                                        <th>
                                                            <i class="fa fa-file-text"></i> Steps
                                                        </th>
                                                        <th></th>
                                                        <th>Description</th>

                                                    </tr>

                                                    @foreach (var item in Model.DealTimeline)
                                                    {
                                                        <tr>
                                                            @if (item.IsContingencies == true)
                                                            {
                                                                if (item.IsApplicable == true)
                                                                {
                                                                    <td class="title-container">
                                                                        <div class="title">

                                                                            <h4><a> ✔ @item.Status</a></h4>

                                                                            @if (@Convert.ToDateTime(item.UpdatedOn) > System.DateTime.Now)
                                                                            {
                                                                                <span class="table-property-price text-danger">Expires on: @Convert.ToDateTime(item.UpdatedOn).ToString("MMM dd")</span>

                                                                            }
                                                                            else
                                                                            {
                                                                                <span class="table-property-price">Completed: @Convert.ToDateTime(item.UpdatedOn).ToString("MMM dd")</span>

                                                                            }
                                                                        </div>
                                                                    </td>

                                                                }
                                                                else
                                                                {
                                                                    <td class="title-container">
                                                                        <div class="title">

                                                                            <h4><a style="text-decoration:line-through;">@item.RowID) @item.Status</a></h4>
                                                                            <span class="table-property-price">Not Applicable</span>
                                                                        </div>
                                                                    </td>
                                                                }
                                                            }
                                                            else
                                                            {
                                                                <td class="title-container">
                                                                    <div class="title">

                                                                        <h4><a> ✔ @item.Status</a></h4>
                                                                        <span class="table-property-price">@Convert.ToDateTime(item.UpdatedOn).ToString("MMM dd")</span>
                                                                    </div>
                                                                </td>
                                                            }
                                                            <td class="action"></td>
                                                            <td>
                                                                <div class="description">
                                                                    <p title="@item.Description" class="masterTooltip text-info" style="color: #0c0707;">
                                                                        <i class="fa fa-info-circle" style="font-size:36px"></i>
                                                                    </p>
                                                                </div>
                                                            </td>

                                                            @*<td class="action">
                                                                    <a href="@item.VideoURL" class="delete swipebox-video"><i class="fa fa-youtube-play"></i> Learn More</a>
                                                                </td>*@
                                                            @*<td class="action">

                                                                    <a href="#" class="tooltip top">tooltip from top</a>
                                                                    <a href="#" class="delete tooltip top"><i class="fa fa-remove"></i> Remove</a>
                                                                </td>*@
                                                        </tr>
                                                    }
                                                    @foreach (var item in Model.TimelineMissingData)
                                                    {
                                                        <tr>
                                                            <td class="title-container">
                                                                <div class="title">

                                                                    <h4 class="disabled" style="color:gray"> @item.Status</h4>
                                                                    <span class="table-property-price" style="background:white"></span>
                                                                </div>
                                                            </td>
                                                            <td class="action"></td>
                                                            <td>
                                                                <div class="description">
                                                                    <p title="@item.Description" class="masterTooltip text-info" style="color: #bdc0c4;">
                                                                        <i class="fa fa-info-circle" style="font-size:36px"></i>
                                                                    </p>
                                                                </div>
                                                            </td>

                                                            @*<td class="action">
                                                                    <a href="@item.VideoURL" class="delete swipebox-video"><i class="fa fa-youtube-play"></i> Learn More</a>
                                                                </td>*@
                                                        </tr>
                                                    }

                                                </tbody>
                                            </table>
                                        </div>
                                        <div class="row">
                                            <div class="to-do-list-outer">

                                                <div class="listing-detail col-md-12 col-lg-12">

                                                    <div class="listing-contact-form mgtop">
                                                        <div class="row">
                                                            <h3 class="custHd">To Do List</h3>
                                                            <form id="FormUpload" method="post" class="form-horizontal">
                                                                <div class="form-group" id="divMyToDoList">
                                                                    <div class="col-md-12">
                                                                        <label class="text-danger" id="lblError" style="display:none"></label>
                                                                    </div>
                                                                    <div class="col-md-12">
                                                                        <label class="text-danger" id="lblTask" style="display:none;text-transform: none;">This is required</label>
                                                                    </div>
                                                                    <div class="col-md-8">
                                                                        <input type="text" id="txtTask" placeholder="Type here" name="Task" class="form-control">

                                                                    </div>
                                                                    <div class="col-md-4">

                                                                        <input onclick="return AddToDoList()" class="btn btn-primary CustBtnAdd" type="button" value="Add" style="width: auto" />
                                                                    </div>
                                                                </div>

                                                            </form>

                                                        </div>



                                                        <div class="row">
                                                            @*<ul id="myToDoList" class="ultodolist col-md-12"></ul>*@
                                                            <table id="myToDoList" class="ultodolist col-md-12"></table>
                                                        </div>
                                                    </div>
                                                    <!-- /.row -->
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-5">
                                        <div style="width:100%;float:left;">
                                            <div class="sidebar sticky right">
                                                <div class="widget" id="Photos">
                                                    <h3 class="widgettitle">Photo Gallery</h3>
                                                    <div id="jssor_1" style="position:relative;margin:0 auto;top:0px;left:0px;width:980px;height:580px;overflow:hidden;visibility:hidden;">
                                                        <!-- Loading Screen -->
                                                        @*<div data-u="loading" class="jssorl-009-spin" style="position:absolute;top:0px;left:0px;width:100%;height:100%;text-align:center;background-color:rgba(0,0,0,0.7);">
                                                                <img style="margin-top:-19px;position:relative;top:50%;width:38px;height:38px;" src="~/img/spin.svg" />
                                                            </div>*@
                                                        <div data-u="slides" style="cursor:default;position:relative;top:0px;left:0px;width:980px;height:580px;overflow:hidden;">
                                                            @foreach (var item in Model.MstGalleryList)
                                                            { <div data-idle="5000">
                                                                <a href="/UploadedFiles/PhotoGallery/@item.GallaryID@item.PhotoNormal" class="swipebox" title="@item.Description">
                                                                    <img data-u="image" src="@item.PhotoThumb" alt="" height="580" width="350">
                                                                </a>
                                                                <figcaption>@item.Description</figcaption>

                                                            </div>

                                                            }

                                                        </div>
                                                        <!-- Bullet Navigator -->
                                                        <div data-u="navigator" class="jssorb053" style="position:absolute;bottom:12px;right:12px;" data-autocenter="1" data-scale="0.5" data-scale-bottom="0.75">
                                                            <div data-u="prototype" class="i" style="width:16px;height:16px;">
                                                                <svg viewbox="0 0 16000 16000" style="position:absolute;top:0;left:0;width:100%;height:100%;">
                                                                    <path class="b" d="M11400,13800H4600c-1320,0-2400-1080-2400-2400V4600c0-1320,1080-2400,2400-2400h6800 c1320,0,2400,1080,2400,2400v6800C13800,12720,12720,13800,11400,13800z"></path>
                                                                </svg>
                                                            </div>
                                                        </div>
                                                        <!-- Arrow Navigator -->
                                                        <div data-u="arrowleft" class="jssora093" style="width:50px;height:50px;top:0px;left:30px;" data-autocenter="2" data-scale="0.75" data-scale-left="0.75">
                                                            <svg viewbox="0 0 16000 16000" style="position:absolute;top:0;left:0;width:100%;height:100%;">
                                                                <circle class="c" cx="8000" cy="8000" r="5920"></circle>
                                                                <polyline class="a" points="7777.8,6080 5857.8,8000 7777.8,9920 "></polyline>
                                                                <line class="a" x1="10142.2" y1="8000" x2="5857.8" y2="8000"></line>
                                                            </svg>
                                                        </div>
                                                        <div data-u="arrowright" class="jssora093" style="width:50px;height:50px;top:0px;right:30px;" data-autocenter="2" data-scale="0.75" data-scale-right="0.75">
                                                            <svg viewbox="0 0 16000 16000" style="position:absolute;top:0;left:0;width:100%;height:100%;">
                                                                <circle class="c" cx="8000" cy="8000" r="5920"></circle>
                                                                <polyline class="a" points="8222.2,6080 10142.2,8000 8222.2,9920 "></polyline>
                                                                <line class="a" x1="5857.8" y1="8000" x2="10142.2" y2="8000"></line>
                                                            </svg>
                                                        </div>
                                                    </div>

                                                </div>
                                                <div class="widget">
                                                    <h3 class="margin-top-0 widgettitle">Days to Close</h3>

                                                    <div class="style-2">
                                                        <ul class="nav nav-tabs nav-tabs-items-4" role="tablist">
                                                            <li class="nav-item">
                                                                <a class="nav-link active" data-toggle="tab" href="#property-description">Settlement</a>
                                                            </li>
                                                            @if (Model.ClientDoc.Count() > 0)
                                                            {
                                                                foreach (var item in Model.ClientDoc){
                                                                    {
        <li class="nav-item">
                                                                    <a class="nav-link" data-toggle="tab" href="#property-amenities">Countdown</a>
                                                                </li>
                                                            }

                                                        </ul>
                                                        <div class="tab-content listing-detail">
                                                            <div class="tab-pane active" id="property-description" role="tabpanel">

                                                                <div class="calendar ">
                                                                    <div class="week">
                                                                        @Model.ClosingDate.ClosingDate.ToString("dddd")
                                                                    </div>
                                                                    <div class="date">
                                                                        @Model.ClosingDate.ClosingDate.ToString("dd")
                                                                    </div>
                                                                    <div class="week" style="margin-top: -38px;margin-left: 28px">
                                                                        @Model.ClosingDate.ClosingDate.ToString("MMMM")
                                                                    </div>
                                                                </div>
                                                            </div><!-- /.tab-pane -->


                                                            <div class="tab-pane" style="margin-top: -50px;" id="property-amenities" role="tabpanel">
                                                                <div id="clockdiv">
                                                                    <div>
                                                                        <span class="days"></span>
                                                                        <div class="smalltext">Days</div>
                                                                    </div>
                                                                    <div>
                                                                        <span class="hours"></span>
                                                                        <div class="smalltext">Hours</div>
                                                                    </div>
                                                                    <div>
                                                                        <span class="minutes"></span>
                                                                        <div class="smalltext">Minutes</div>
                                                                    </div>
                                                                    <div>
                                                                        <span class="seconds"></span>
                                                                        <div class="smalltext">Seconds</div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div><!-- /.tab-content -->



                                                    </div>
                                                </div>
                                                <div class="widget">
                                                    <h3 class="widgettitle">Photo(s)</h3>

                                                    @if (Model.                                                        <div class="listing-box listing-box-simple">
                                                            <div class="listing-box-image" style="background-image: url('@Model.DisplayListing.ImageURL')">
                                                                <div class="listing-box-image-title">


                                                                    @if (Model.DisplayListing.ListingSource.ToString() == "Compass")
                                                                    {
                                                                        <h2><a target="_blank" href="@Url.Action("Details","Listing",new {area="",mls_id=@Model.DisplayListing.MLSID })">@Model.DisplayListing.Address</a></h2>

                                                                    }

                                                                </div><!-- /.listing-box-image-title -->


                                                            </div><!-- /.listing-box-image -->
                                                        </div>
                                                    }

                                                    else
                                                    {

                                                        <div class="listing-box listing-box-simple">
                                                            <div class="listing-box-image" style="background-image: url('../../../../img/sell homee.jpg')">
                                                                <div class="listing-box-image-title">
                                                                    <h2><a href="@Model.ClosingDate.URL">@Model.ClosingDate.Address</a></h2>

                                                                </div><!-- /.listing-box-image-title -->


                                                            </div><!-- /.listing-box-image -->
                                                        </div>

                                                    }

                                                </div>

                                                <div class="custom-docu">
                                                    <div class="widget">
                                                        <h3 class="widgettitle">Deal Documents</h3>
                                                        <div class="widget-docu">
                                                            <div class="tDocumentbody">
                                                            </div>
                                                            @if (Model.ClientDoc.Count() > 0)
                                                            {
                                                                foreach (var item in Model.ClientDoc)
                                                                {
                                                                    <div class="listing-small ">
                                                                        <div class="listing-small-inner">
                                                                            <div class="listing-small-image">

                                                                                @if (@item.TrackDocFile.ToString() == ".jpg")
                                                                                {
                                                                                    <a download href="~/UploadedFiles/TrackDeal/@item.DealTrackDocID@item.TrackDocFile" target="_blank" style="background-image: url('../../../../Content/AppDashboard/assets/img/tmp/jpeg.jpg');">
                                                                                    </a>

                                                                                }
                                                                                @if (@item.TrackDocFile.ToString() == ".jpeg")
                                                                                {
                                                                                    <a download href="~/UploadedFiles/TrackDeal/@item.DealTrackDocID@item.TrackDocFile" target="_blank" style="background-image: url('../../../../Content/AppDashboard/assets/img/tmp/jpeg.jpg');">
                                                                                    </a>

                                                                                }
                                                                                @if (@item.TrackDocFile.ToString() == ".pdf")
                                                                                {
                                                                                    <a download href="~/UploadedFiles/TrackDeal/@item.DealTrackDocID@item.TrackDocFile" target="_blank" style="background-image: url('../../../../Content/AppDashboard/assets/img/tmp/pdf.jpg');">
                                                                                    </a>

                                                                                }

                                                                                @if (@item.TrackDocFile.ToString() == ".doc")
                                                                                {
                                                                                    <a download href="~/UploadedFiles/TrackDeal/@item.DealTrackDocID@item.TrackDocFile" target="_blank" style="background-image: url('../../../../Content/AppDashboard/assets/img/tmp/doc.jpg');">
                                                                                    </a>

                                                                                }
                                                                                @if (@item.TrackDocFile.ToString() == ".docx")
                                                                                {
                                                                                    <a download href="~/UploadedFiles/TrackDeal/@item.DealTrackDocID@item.TrackDocFile" target="_blank" style="background-image: url('../../../../Content/AppDashboard/assets/img/tmp/doc.jpg');">
                                                                                    </a>

                                                                                }

                                                                                @if (@item.TrackDocFile.ToString() == ".png")
                                                                                {
                                                                                    <a download href="~/UploadedFiles/TrackDeal/@item.DealTrackDocID@item.TrackDocFile" target="_blank" style="background-image: url('../../../../Content/AppDashboard/assets/img/tmp/jpeg.jpg');">
                                                                                    </a>

                                                                                }
                                                                                @if (@item.TrackDocFile.ToString() == ".txt")
                                                                                {
                                                                                    <a download href="~/UploadedFiles/TrackDeal/@item.DealTrackDocID@item.TrackDocFile" target="_blank" style="background-image: url('../../../../Content/AppDashboard/assets/img/tmp/txt.jpg');">
                                                                                    </a>

                                                                                }
                                                                            </div><!-- /.listing-small-image -->

                                                                            <div class="listing-small-content">
                                                                                <h3><a download href="~/UploadedFiles/TrackDeal/@item.DealTrackDocID@item.TrackDocFile" target="_blank">@item.FileName</a></h3>
                                                                            </div><!-- /.listing-small-content -->
                                                                        </div><!-- /.listing-small-inner -->
                                                                    </div>
                                                                }
                                                            }

                                                        </div>

                                                        <div class="form-group-btn btn-mob">
                                                            <button type="button" class="btn btn-primary pull-left" style="background-color: #0bb7a5; border-color:#0bb7a5" data-toggle="modal" data-target="#DocumentModalPopUp" onclick="clearTextBox();">Add Document</button>

                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="widget-cust">
                                                    <div class="widget">
                                                        <h3 class="widgettitle">Vendors</h3>
                                                        <div class="widget-vend vendorlist" id="vendorlist">
                                                            @if (Model.DealVendorList.Count() > 0)
                                                            {
                                                                foreach (var item in Model.DealVendorList)
                                                                {


                                                                    <div class="post" style="margin:0 0 10px 0">


                                                                        @*<div class="post-title" style="font-size:0.6em">

                                                                                <h2><a href="#" style="cursor:initial;">@item.VendorCompany </a></h2>
                                                                            </div>*@
                                                                        <div class="post-title pos-ttl-ven" style="font-size:0.6em">

                                                                            <h2>
                                                                                <a href="#" style="cursor:initial;" class="sassText">@item.VendorType: @item.Vendor  </a>

                                                                                @if (item.UserRole == "Client")
                                                                                {
                                                                                    <span class="editIcons">
                                                                                        <a href="#!" id="editv" title="Edit" class="sassIcon" data-Vendor_Id="@item.Vendor_Id" data-DealVendor_Id="@item.DealVendorId"><img src="/img/edit-doc.png" /></a>

                                                                                        <a href="#!" id="deletev" title="Delete" class="sassIcon" data-Vendor_Id="@item.DealVendorId"><img src="/img/delete-doc.png" /></a>
                                                                                    </span>
                                                                                }


                                                                            </h2>

                                                                        </div><!-- /.post-title -->

                                                                        @if (string.IsNullOrEmpty(item.VendorPhone) && string.IsNullOrEmpty(item.VendorEmail))
                                                                        {

                                                                        }
                                                                        else
                                                                        {
                                                                            <div class="post-meta phone-email-div">
                                                                                <!-- /.post-meta-item -->
                                                                                @if (!string.IsNullOrEmpty(item.VendorPhone))
                                                                                {
                                                                                    <div class="post-meta-item">
                                                                                        <a href="tel:@item.VendorPhone" style="color: #0bb7a5"> <i class="fa fa-phone"></i> @item.VendorPhone</a>
                                                                                    </div><!-- /.post-meta-item -->
                                                                                }
                                                                                @if (!string.IsNullOrEmpty(item.VendorEmail))
                                                                                {
                                                                                    <div class="post-meta-item">
                                                                                        <i class="fa fa-envelope"></i> <a href="mailto:@item.VendorPhone" style="color: #0bb7a5">@item.VendorEmail</a>
                                                                                    </div><!-- /.post-meta-item -->
                                                                                }
                                                                            </div><!-- /.post-meta -->
                                                                        }
                                                                        <!-- /.post-content -->
                                                                        <!-- /.post-read-more -->
                                                                    </div>

                                                                }
                                                            }
                                                        </div>

                                                        <div class="form-group-btn btn-mob">
                                                            <button type="button" class="btn btn-primary pull-left" style="background-color: #0bb7a5; border-color:#0bb7a5" data-toggle="modal" data-target="#VendorModalPopUp" onclick="clearTextBoxVendor();">Add Vendor</button>

                                                        </div>
                                                    </div>

                                                </div>

                                                <div class="widget-cust">
                                                    <div class="widget">
                                                        <h3 class="widgettitle">Agenda</h3>
                                                        <div class="widget-vend Eventlist" id="Eventlist">
                                                            @if (Model.AppointmentList.Count() > 0)
                                                            {



                                                                <div class="post" style="margin:0 0 10px 0">

                                                                    <table class="table table-bordered custTableAgenda table-striped ">
                                                                        <tbody>
                                                                            <tr>
                                                                                <th>Date</th>
                                                                                <th>Description</th>
                                                                                <th class="actionwdth">Action</th>
                                                                            </tr>
                                                                            @foreach (var item in Model.AppointmentList)
                                                                            {
                                                                                <tr>
                                                                                    <td>@item.Date</td>
                                                                                    <td>@item.Description</td>
                                                                                    <td>
                                                                                        @if (item.UserRole == "Client")
                                                                                        {
                                                                                            <span class="editIcons">
                                                                                                <a href="#!" id="editevent" title="Edit" class="sassIcon" data-Event_Id="@item.Id" data-DealEvent_Id="@item.Id"><img src="/img/edit-doc.png" /></a>

                                                                                                <a href="#!" id="deletevent" title="Delete" class="sassIcon" data-Event_Id="@item.Id"><img src="/img/delete-doc.png" /></a>
                                                                                            </span>
                                                                                        }
                                                                                    </td>
                                                                                </tr>

                                                                            }
                                                                        </tbody>

                                                                    </table>


                                                                </div>


                                                            }
                                                        </div>

                                                        <div class="form-group-btn btn-mob">
                                                            <button type="button" class="btn btn-primary pull-left" style="background-color: #0bb7a5; border-color:#0bb7a5" data-toggle="modal" data-target="#EventModalPopUp" onclick="clearTextBoxEvent();">Add Event</button>
                                                            @*<a href="/Client/MyCalendar/List" class="btn btn-primary pull-left">
                                                                    View Calendar
                                                                </a>*@

                                                        </div>
                                                    </div>

                                                </div>
                                                <div class="widget-cust">
                                                    <div class="widget">
                                                        <h3 class="widgettitle">Building</h3>

                                                        @if (Model.AppointmentList.Count() > 0  )
                                                        {





#line default
#line hidden

#line 407 "E:\BE\RealEstate.Web\Areas\Client\Views\MyDeal\Status.cshtml"
                                                            foreach (var item in Model.AppointmentList)
                                                            {


#line default
#line hidden

#line 408 "E:\BE\RealEstate.Web\Areas\Client\Views\MyDeal\Status.cshtml"
                                                                __o = item.Date;


#line default
#line hidden

#nine 409 "E:\BE\RealEstate.Web\Areas\Client\Views\MyDeal\Status.cshtml"
                                                                __o = item.Description;


#line default
#line hidden

#line 410 "E:\BE\RealEstate.Web\Areas\Client\Views\MyDeal\Status.cshtml"
                                                                if (item.UserRole == "Client")
                                                                {
                                                            <div class="category" style="background-image: url('../../../../UploadedFiles/BuildingImages/@Model.BuildingView.Image');background-position:unset">


                                                                <a href="/Client/Buildings/Details?BuildingId=@Model.BuildingView.BuildingId" target="_blank" class="category-link">
                                                                    <span class="category-content">
                                                                        <span class="category-title">@Model.BuildingView.Name</span>
                                                                        <span class="category-subtitle">@Model.BuildingView.Neighborhood</span>
                                                                        <span class="btn btn-primary">View </span>
                                                                    </span><!-- /.category-content -->
                                                                </a>
                                                            </div>
                                                        }


                                                    </div>
                                                    </div>





                                            </div>
                                        </div>
                                    </div>
                                }

                                @if ((Model.MLSListing.Count() == 0) && (Model.MstGalleryList.Count() == 0) && (Model.ClientDoc.Count() == 0) && (                                                                        <h4><a style="text-decoration:line-through;">@item.RowID) @item.Status</a></h4>
                                                                        <span class="table-property-price">Not Applicable</span>
                                                                    </div>
                                                                </td>
                                                            }
                                                        }
                                                        else
                                                        {
                                                            <td class="title-container">
                                                                <div class="title">

                                                                    <h4><a> ✔ @item.Status</a></h4>
                                                                    <span class="table-property-price">@Convert.ToDateTime(item.UpdatedOn).ToString("MMM dd")</span>
                                                                </div>
                                                            </td>
                                                        }
                                                        <td class="action"></td>
                                                        <td>
                                                            <div class="description">
                                                                <p title="@item.Description" class="masterTooltip text-info" style="color: #0c0707;">
                                                                    <i class="fa fa-info-circle" style="font-size:36px"></i>
                                                                </p>
                                                            </div>
                                                        </td>

                                                        @*<td class="action">
                                                                <a href="@item.VideoURL" class="delete swipebox-video"><i class="fa fa-youtube-play"></i> Learn More</a>
                                                            </td>*@
                                                        @*<td class="action">
                                                                <a href="#" class="tooltip top">tooltip from top</a>
                                                                <a href="#" class="delete tooltip top"><i class="fa fa-remove"></i> Remove</a>
                                                            </td>*@
                                                    </tr>
                                                }

                                                @foreach (var item in Model.TimelineMissingData)
                                                {
                                                    <tr>
                                                        <td class="title-container">
                                                            <div class="title">

                                                                <h4 class="disabled" style="color:gray"> @item.Status</h4>
                                                                <span class="table-property-price" style="background:white"></span>
                                                            </div>
                                                        </td>
                                                        <td class="action"></td>
                                                        <td>
                                                            <div class="description">
                                                                <p title="@item.Description" class="masterTooltip text-info" style="color: #bdc0c4;">
                                                                    <i class="fa fa-info-circle" style="font-size:36px"></i>
                                                                </p>
                                                            </div>
                                                        </td>

                                                        @*<td class="action">
                                                                <a href="@item.VideoURL" class="delete swipebox-video"><i class="fa fa-youtube-play"></i> Learn More</a>
                                                            </td>*@
                                                        @*<td class="action">

                                                                <a href="#" class="tooltip top">tooltip from top</a>
                                                                <a href="#" class="delete tooltip top"><i class="fa fa-remove"></i> Remove</a>
                                                            </td>*@
                                                    </tr>
                                                }
                                            </tbody>
                                        </table>

                                    </div>
                                    <div class="col-md-5">

                                        <div class="custom-docu">
                                            <div class="widget">
                                                <h3 class="widgettitle">Deal Documents</h3>
                                                <div class="widget-docu">
                                                    <div class="tDocumentbody">
                                                    </div>
                                                    @if (Model.ClientDoc.Count() > 0)
                                                    {
                                                        foreach (var item in Model.ClientDoc)
                                                        {
                                                            <div class="listing-small ">
                                                                <div class="listing-small-inner">
                                                                    <div class="listing-small-image">

                                                                        @if (@item.TrackDocFile.ToString() == ".jpg")
                                                                        {
                                                                            <a download href="~/UploadedFiles/TrackDeal/@item.DealTrackDocID@item.TrackDocFile" target="_blank" style="background-image: url('../../../../Content/AppDashboard/assets/img/tmp/jpeg.jpg');">
                                                                            </a>

                                                                        }
                                                                        @if (@item.TrackDocFile.ToString() == ".jpeg")
                                                                        {
                                                                            <a download href="~/UploadedFiles/TrackDeal/@item.DealTrackDocID@item.TrackDocFile" target="_blank" style="background-image: url('../../../../Content/AppDashboard/assets/img/tmp/jpeg.jpg');">
                                                                            </a>

                                                                        }
                                                                        @if (@item.TrackDocFile.ToString() == ".pdf")
                                                                        {
                                                                            <a download href="~/UploadedFiles/TrackDeal/@item.DealTrackDocID@item.TrackDocFile" target="_blank" style="background-image: url('../../../../Content/AppDashboard/assets/img/tmp/pdf.jpg');">
                                                                            </a>

                                                                        }

                                                                        @if (@item.TrackDocFile.ToString() == ".doc")
                                                                        {
                                                                            <a download href="~/UploadedFiles/TrackDeal/@item.DealTrackDocID@item.TrackDocFile" target="_blank" style="background-image: url('../../../../Content/AppDashboard/assets/img/tmp/doc.jpg');">
                                                                            </a>

                                                                        }
                                                                        @if (@item.TrackDocFile.ToString() == ".docx")
                                                                        {
                                                                            <a download href="~/UploadedFiles/TrackDeal/@item.DealTrackDocID@item.TrackDocFile" target="_blank" style="background-image: url('../../../../Content/AppDashboard/assets/img/tmp/doc.jpg');">
                                                                            </a>

                                                                        }

                                                                        @if (@item.TrackDocFile.ToString() == ".png")
                                                                        {
                                                                            <a download href="~/UploadedFiles/TrackDeal/@item.DealTrackDocID@item.TrackDocFile" target="_blank" style="background-image: url('../../../../Content/AppDashboard/assets/img/tmp/jpeg.jpg');">
                                                                            </a>

                                                                        }
                                                                        @if (@item.TrackDocFile.ToString() == ".txt")
                                                                        {
                                                                            <a download href="~/UploadedFiles/TrackDeal/@item.DealTrackDocID@item.TrackDocFile" target="_blank" style="background-image: url('../../../../Content/AppDashboard/assets/img/tmp/txt.jpg');">
                                                                            </a>

                                                                        }
                                                                    </div><!-- /.listing-small-image -->

                                                                    <div class="listing-small-content">
                                                                        <h3><a download href="~/UploadedFiles/TrackDeal/@item.DealTrackDocID@item.TrackDocFile" target="_blank">@item.FileName</a></h3>
                                                                    </div><!-- /.listing-small-content -->
                                                                </div><!-- /.listing-small-inner -->
                                                            </div>
                                                        }
                                                    }

                                                </div>

                                                <div class="form-group-btn btn-mob">
                                                    <button type="button" class="btn btn-primary pull-left" style="background-color: #0bb7a5; border-color:#0bb7a5" data-toggle="modal" data-target="#DocumentModalPopUp" onclick="clearTextBox();">Add Document</button>

                                                </div>
                                            </div>
                                        </div>
                                        <div class="widget-cust">
                                            <div class="widget">
                                                <h3 class="widgettitle">Vendors</h3>
                                                <div class="widget-vend vendorlist" id="vendorlist">
                                                    @if (Model.DealVendorList.Count() > 0)
                                                    {
                                                        foreach (var item in Model.DealVendorList)
                                                        {


                                                            <div class="post" style="margin:0 0 10px 0">


                                                                @*<div class="post-title" style="font-size:0.6em">

                                                                        <h2><a href="#" style="cursor:initial;">@item.VendorCompany </a></h2>
                                                                    </div>*@
                                                                <div class="post-title pos-ttl-ven" style="font-size:0.6em">

                                                                    <h2>
                                                                        <a href="#" style="cursor:initial;" class="sassText">@item.VendorType: @item.Vendor  </a>

                                                                        @if (item.UserRole == "Client")
                                                                        {
                                                                            <span class="editIcons">
                                                                                <a href="#!" id="editv" title="Edit" class="sassIcon" data-Vendor_Id="@item.Vendor_Id" data-DealVendor_Id="@item.DealVendorId"><img src="/img/edit-doc.png" /></a>

                                                                                <a href="#!" id="deletev" title="Delete" class="sassIcon" data-Vendor_Id="@item.DealVendorId"><img src="/img/delete-doc.png" /></a>
                                                                            </span>
                                                                        }


                                                                    </h2>

                                                                </div><!-- /.post-title -->

                                                                @if (string.IsNullOrEmpty(item.VendorPhone) && string.IsNullOrEmpty(item.VendorEmail))
                                                                {

                                                                }
                                                                else
                                                                {
                                                                    <div class="post-meta phone-email-div">
                                                                        <!-- /.post-meta-item -->
                                                                        @if (!string.IsNullOrEmpty(item.VendorPhone))
                                                                        {
                                                                            <div class="post-meta-item">
                                                                                <a href="tel:@item.VendorPhone" style="color: #0bb7a5"> <i class="fa fa-phone"></i> @item.VendorPhone</a>
                                                                            </div><!-- /.post-meta-item -->
                                                                        }
                                                                        @if (!string.IsNullOrEmpty(item.VendorEmail))
                                                                        {
                                                                            <div class="post-meta-item">
                                                                                <i class="fa fa-envelope"></i> <a href="mailto:@item.VendorPhone" style="color: #0bb7a5">@item.VendorEmail</a>
                                                                            </div><!-- /.post-meta-item -->
                                                                        }
                                                                    </div><!-- /.post-meta -->
                                                                }
                                                                <!-- /.post-content -->
                                                                <!-- /.post-read-more -->
                                                            </div>

                                                        }
                                                    }
                                                </div>

                                                <div class="form-group-btn btn-mob">
                                                    <button type="button" class="btn btn-primary pull-left" style="background-color: #0bb7a5; border-color:#0bb7a5" data-toggle="modal" data-target="#VendorModalPopUp" onclick="clearTextBoxVendor();">Add Vendor</button>

                                                </div>
                                            </div>

                                        </div>


                                        <div class="widget-cust">
                                            <div class="widget">
                                                <h3 class="widgettitle">Agenda</h3>
                                                <div class="widget-vend Eventlist" id="Eventlist">
                                                    @if (Model.AppointmentList.Count() > 0  )
                                                    {



                                                        <div class="post" style="margin:0 0 10px 0">

                                                            <table class="table table-bordered custTableAgenda table-striped ">
                                                                <tbody>
                                                                    <tr>
                                                                        <th>Date</th>
                                                                        <th>Description</th>
                                                                        <th class="actionwdth">Action</th>
                                                                    </tr>
                                                                    @foreach (var item in Model.AppointmentList)
                                                                    {
                                                                        <tr>
                                                                            <td>@item.Date</td>
                                                                            <td>@item.Description</td>
                                                                            <td>
                                                                                @if (item.UserRole == "Client")
                                                                                {
                                                                                    <span class="editIcons">
                                                                                        <a href="#!" id="editevent" title="Edit" class="sassIcon" data-Event_Id="@item.Id" data-DealEvent_Id="@item.Id"><img src="/img/edit-doc.png" /></a>

                                                                                        <a href="#!" id="deletevent" title="Delete" class="sassIcon" data-Event_Id="@item.Id"><img src="/img/delete-doc.png" /></a>
                                                                                    </span>
                                                                                }
                                                                            </td>
                                                                        </tr>

                                                                    }
                                                                </tbody>

                                                            </table>


                                                        </div>


                                                    }
                                                </div>

                                                <div class="form-group-btn btn-mob">
                                                    <button type="button" class="btn btn-primary pull-left" style="background-color: #0bb7a5; border-color:#0bb7a5" data-toggle="modal" data-target="#EventModalPopUp" onclick="clearTextBoxEvent();">Add Event</button>
                                                    @*<a href="/Client/MyCalendar/List" class="btn btn-primary pull-left">
                                                            View Calendar
                                                        </a>*@

                                                </div>
                                            </div>

                                        </div>



                                    </div>

                                }

                                @if ((Model.MLSListing.Count() == 0) && (Model.MstGalleryList.Count() == 0) && (Model.ClientDoc.Count() == 0) && (Model.DealVendorList.Count() == 0) && (Model.Agenda.Count() == 0))
                                {
                                    <div class="col-md-12 widget">
                                        <h3 class="margin-top-0 widgettitle">Progress</h3>

                                        <div class="main-search-input margin-bottom-40">
                                            <div class="chart col-md-12" id="chartContainer" style="height: 280px;margin-left:-18px;"></div>
                                        </div>

                                        <table class="manage-table bookmarks-table responsive-table">
                                            <tbody>
                                                <tr>
                                                    <th>
                                                        <i class="fa fa-file-text"></i> Steps
                                                    </th>
                                                    <th></th>
                                                    <th>Description</th>

                                                </tr>
                                                @foreach (var item in Model.DealTimeline)
                                                {
                                                    <tr>
                                                        @if (item.IsContingencies == true)
                                                        {
                                                            if (item.IsApplicable == true)
                                                            {
                                                                <td class="title-container">
                                                                    <div class="title">

                                                                        <h4><a>✔ @item.Status</a></h4>
                                                                        @if (@Convert.ToDateTime(item.UpdatedOn) > System.DateTime.Now)
                                                                        {
                                                                            <span class="table-property-price text-danger">Expires on: @Convert.ToDateTime(item.UpdatedOn).ToString("MMM dd")</span>

                                                                        }
                                                                        else
                                                                        {
                                                                            <span class="table-property-price">Completed: @Convert.ToDateTime(item.UpdatedOn).ToString("MMM dd")</span>

                                                                        }


                                                                    </div>
                                                                </td>

                                                            }
                                                            else
                                                            {
                                                                <td class="title-container">
                                                                    <div class="title">

                                                                        <h4><a style="text-decoration:line-through;">@item.RowID) @item.Status</a></h4>
                                                                        <span class="table-property-price">Not Applicable</span>
                                                                    </div>
                                                                </td>
                                                            }
                                                        }
                                                        else
                                                        {
                                                            <td class="title-container">
                                                                <div class="title">

                                                                    <h4><a> ✔ @item.Status</a></h4>
                                                                    <span class="table-property-price">@Convert.ToDateTime(item.UpdatedOn).ToString("MMM dd")</span>
                                                                </div>
                                                            </td>
                                                        }
                                                        <td class="action"></td>
                                                        <td>
                                                            <div class="description">
                                                                <p title="@item.Description" class="masterTooltip text-info" style="color: #0c0707;">
                                                                    <i class="fa fa-info-circle" style="font-size:36px"></i>
                                                                </p>
                                                            </div>
                                                        </td>

                                                        @*<td class="action">
                                                                <a href="@item.VideoURL" class="delete swipebox-video"><i class="fa fa-youtube-play"></i> Learn More</a>
                                                            </td>*@
                                                        @*<td class="action">
                                                                <a href="#" class="tooltip top">tooltip from top</a>
                                                                <a href="#" class="delete tooltip top"><i class="fa fa-remove"></i> Remove</a>
                                                            </td>*@
                                                    </tr>
                                                }

                                                @foreach (var item in Model.TimelineMissingData)
                                                {
                                                    <tr>
                                                        <td class="title-container">
                                                            <div class="title">

                                                                <h4 class="disabled" style="color:gray"> @item.Status</h4>
                                                                <span class="table-property-price" style="background:white"></span>
                                                            </div>
                                                        </td>
                                                        <td class="action"></td>
                                                        <td>
                                                            <div class="description">
                                                                <p title="@item.Description" class="masterTooltip text-info" style="color: #bdc0c4;">
                                                                    <i class="fa fa-info-circle" style="font-size:36px"></i>
                                                                </p>
                                                            </div>
                                                        </td>

                                                        @*<td class="action">
                                                                <a href="@item.VideoURL" class="delete swipebox-video"><i class="fa fa-youtube-play"></i> Learn More</a>
                                                            </td>*@
                                                        @*<td class="action">

                                                                <a href="#" class="tooltip top">tooltip from top</a>
                                                                <a href="#" class="delete tooltip top"><i class="fa fa-remove"></i> Remove</a>
                                                            </td>*@
                                                    </tr>
                                                }

#line default
#line hidden

#line 351 "E:\BE\RealEstate.Web\Areas\Client\Views\MyDeal\Status.cshtml"
                                          }
                                            </tbody>
                                        </table>

                                    </div>


                                }


                            </div>


                        </div>






                    </div>
                    <!-- /.row -->

                </div><!-- /.container -->
            </div><!-- /.content -->
        </div><!-- /.main-inner -->
    </div><!-- /.main -->
</div>


@*Recent change ----- Replace complete modal popup*@
<div class="modal fade in DocumentModalPopUp" id="DocumentModalPopUp" tabindex="-1" role="dialog" aria-labelledby="myDocumentModalLabel" aria-hidden="true">
    <div class="modal-content">

        <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal">&times;</button>
            <h4 class="modal-title" id="myDocumentModalLabel">Add/Edit Document</h4>

        </div>
        <div class="modal-body">
            <div class="row">
                <div class="col-md-12 col-lg-12">
                    <div class="div-document">

                        <form id="FormUpload" enctype="multipart/form-data" method="post">
                            <input type="hidden" id="txtDocId" name="DocId" />
                            <input type="hidden" id="txtTransactionId" value="@ViewBag.TransactionID" name="TransactionID" />
                            <input type="hidden" id="txtClientId" value="@ViewBag.ClientID" name="ClientId" />
                            <input type="hidden" id="txtBuyerType" name="DocumentType" value="@ViewBag.TransactionType" />
                            <input type="hidden" id="txtClientDocId" name="ClientDocId" />
                            <input type="hidden" id="txtFilename" name="ExistingFile" />

                            <div class="col-sm-12 my-profile">
                                <div class="form-group">
                                    <label class="text-danger" id="lblError" style="display:none"></label>
                                </div>
                                <div class="form-group">
                                    <label>Title</label>
                                    <label class="text-danger" id="lblTitle" style="display:none">Title is required</label>
                                    <input type="text" id="txtTitle" class="form-control" name="Title" />
                                </div>
                                <div class="form-group">
                                    <label>Description</label>
                                    <input type="text" id="txtDescription" class="form-control" name="Description" />

                                </div>
                                <div class="form-group">
                                    <label>File</label>
                                    <label class="text-danger" id="lblDocFile" style="display:none">File is required</label>
                                    <input type="file" name="DocFile" id="flDocFile" />
                                </div>


                                <div class="form-group">
                                    <div class="form-group-btn btn-mob">

                                        <input type="button" class="btn btn-primary pull-right col-md-offset-3" id="btnAddDocument" onclick="return AddDocument();" style="background-color: #0bb7a5; border-color:#0bb7a5" value="Save changes">
                                        <input type="button" class="btn btn-primary pull-right col-md-offset-3" style="display:none;background-color: #0bb7a5; border-color:#0bb7a5" id="btnUpdateDocument" onclick="return UpdateDocument();" value="Save changes">


                                    </div>

                                </div>


                            </div>
                        </form>


                    </div><!-- /.listing-contact-form -->

                </div>
            </div>

        </div>
    </div>
</div>




@* Vendor Popup *@
<div class="modal fade in DocumentModalPopUp" id="VendorModalPopUp" tabindex="-1" role="dialog" aria-labelledby="myDocumentModalLabel" aria-hidden="true">
    <div class="modal-content">

        <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal">&times;</button>
            <h4 class="modal-title" id="myDocumentModalLabel">Add/Edit Vendor</h4>

        </div>
        <div class="modal-body">
            <div class="row">

                <div class="col-md-12">

                    <div class="listing-detail">
                        <div class="">
                            <div class="row">
                                <form id="FormUploadVendor" enctype="multipart/form-data" method="post">
                                    @*<input type="hidden" id="txtDocId" name="Id" />*@
                                    <input type="hidden" id="txtTransactionId" value="@ViewBag.TransactionID" name="TransactionID" />
                                    <input type="hidden" id="txtClientId" value="@ViewBag.ClientID" name="ClientId" />
                                    <input type="hidden" id="txtBuyerType" name="DocumentType" value="@ViewBag.TransactionType" />
                                    <input type="hidden" id="txtVenId" name="Id" />
                                    <input type="hidden" id="txtVenImage" name="txtVenImage" />
                                    <input type="hidden" id="txtDealVendorId" name="DealVendorId" />
                                    <input type="hidden" name="ListingSHA" id="ListingSHA" />
                                    <input type="hidden" name="ListingCVendor" id="ListingCVendor" />
                                    <div class="col-sm-12 my-profile">
                                        <div class="row">
                                            <div class="col-md-12">
                                                <div class="form-group">
                                                    <label class="text-danger" id="lblErrorVendor" style="display:none"></label>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-md-6">
                                                <div class="form-group">
                                                    <label>Vendor Type</label>
                                                    <label class="text-danger" id="lblVendorType" style="display:none">Type is required</label>
                                                    <input type="text" id="VendorType" form-control="form-control" name="VendorType" />

                                                    @*@Html.DropDownList("VendorType", new SelectList(ViewBag.Vendortype, "Category_Id", "Name"), "--- Select Vendor Type --- ", new { @class = "form-control ddl-select2" })*@

                                                </div>
                                            </div>
                                            <div class="col-md-6">
                                                <div class="form-group">
                                                    <label>Name</label>
                                                    <label class="text-danger" id="lblTitleV" style="display:none">Name is required</label>
                                                    <input type="text" id="txtTitleV" form-control="form-control" name="txtTitleV" />

                                                </div>
                                            </div>
                                        </div>
                                        <div class="row">

                                            <div class="col-md-6">
                                                <div class="form-group">
                                                    <label>Email</label>
                                                    <label class="text-danger" id="lblEmailV" style="display:none">Invalid  email address</label>
                                                    <input type="text" id="txtEmail" form-control="form-control" name="Email" />

                                                </div>
                                            </div>
                                            <div class="col-md-6">
                                                <div class="form-group">
                                                    <label class="text-danger" id="lblPhoneV" style="display:none">Not a valid Phone number</label>

                                                    <label>Phone</label>
                                                    <input type="text" id="txtPhone" form-control="form-control" name="Phone" placeholder="###.###.####" maxlength="12" />

                                                </div>
                                            </div>

                                        </div>
                                        <div class="additionalfield">
                                            <div class="row">
                                                <div class="col-md-6">
                                                    <div class="form-group">
                                                        <label>Company</label>
                                                        <input type="text" id="txtSubTitle" form-control="form-control" name="SubTitle" />

                                                    </div>
                                                </div>

                                                <div class="col-md-6">
                                                    <div class="form-group">
                                                        <label>Website link</label>
                                                        <label class="text-danger" id="lblWebsiteV" style="display:none">Please enter correct link</label>
                                                        <input type="text" id="txtWebsitelink" form-control="form-control" name="Websitelink" />
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="row">

                                                <div class="col-md-6">
                                                    <div class="form-group">
                                                        <label>Location</label>
                                                        <input type="text" id="txtLocation" form-control="form-control" name="Location" />

                                                    </div>
                                                </div>
                                                <div class="col-md-6">
                                                    <div class="form-group">
                                                        <label>Image</label>
                                                        @*<label class="text-danger" id="lblDocFile" style="display:none">File is required</label>*@
                                                        <input type="file" name="VenFile" id="flVenFile" />
                                                    </div>
                                                </div>
                                                <div class="col-md-6">
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="col-md-12">
                                                    <div class="form-group">
                                                        <label>Description</label>
                                                        <textarea rows="2" cols="10" id="txtAbout" form-control="form-control" name="About"></textarea>
                                                        @*<input type="text" id="txtAbout" form-control="form-control" name="About" />*@

                                                    </div>
                                                </div>
                                            </div>

                                        </div>

                                        <div class="row">
                                            <div class="form-group-btn btn-mob">
                                                <div class="col-sm-6">

                                                </div>
                                                <div class="col-sm-6">
                                                    <input type="button" class="btn btn-primary pull-right col-md-offset-3 btn-ven-wid" id="btnAddVendor" onclick="return AddVendor();" style="background-color: #0bb7a5; border-color:#0bb7a5" value="Save changes" />
                                                    <input type="button" class="btn btn-primary pull-right col-md-offset-3 btn-ven-wid" style="display:none;background-color: #0bb7a5; border-color:#0bb7a5" id="btnUpdateVendor" value="Save changes" />
                                                </div><!-- /.form-group-btn -->

                                            </div>

                                        </div>
                                    </div>
                                </form>

                            </div><!-- /.row -->
                        </div><!-- /.listing-contact-form -->

                    </div>

                </div>






            </div>

        </div>
    </div>
</div>


@* Event Popup *@


<div class="modal fade in DocumentModalPopUp" id="EventModalPopUp" tabindex="-1" role="dialog" aria-labelledby="myDocumentModalLabel" aria-hidden="true">
    <div class="modal-content">

        <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal">&times;</button>
            <h4 class="modal-title" id="myDocumentModalLabel">Add/Edit Event</h4>

        </div>
        <div class="modal-body">

            <div class="row">

                <div class="col-md-12">

                    <div class="listing-detail">
                        <div class="">
                            <div class="row">

                                <form id="FormUploadEvent" enctype="multipart/form-data" method="post">
                                    @*<input type="hidden" id="txtDocId" name="Id" />*@
                                    <input type="hidden" id="txtTransactionId" value="@ViewBag.TransactionID" name="TransactionID" />
                                    <input type="hidden" id="txtClientId" value="@ViewBag.ClientID" name="ClientId" />
                                    <input type="hidden" id="txtBuyerType" name="DocumentType" value="@ViewBag.TransactionType" />
                                    <input type="hidden" id="txtEventId" name="Id" />
                                    <input type="hidden" name="ListingSHA" id="ListingSHA" />
                                    @*<input type="hidden" name="ListingCVendor" id="ListingCVendor" />*@


                                    <div class="col-sm-12 my-profile">
                                        <div class="row">
                                            <div class="col-md-12">
                                                <div class="form-group">
                                                    <label class="text-danger" id="lblErrorEvent" style="display:none"></label>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="form-group">
                                            <label>Event Title</label>
                                            <label class="text-danger" id="lblEventTitle" style="display:none">Event title is required</label>
                                            <input type="text" id="EventTitle" form-control="form-control" name="EventTitle" />
                                        </div>


                                        <div class="form-group">
                                            <label>Start Date</label>
                                            <label class="text-danger" id="lblStartDate" style="display:none">Start date time is required</label>

                                            <input type="text" id="txtStartDate" class="form-control" name="txtStartDate" />
                                        </div>




                                        <div class="form-group">
                                            <label>End Date</label>
                                            <label class="text-danger" id="lblEndDate" style="display:none">End date time is required</label>

                                            <input type="text" id="txtEndDate" class="form-control" name="txtEndDate" />
                                        </div>


                                        <div class="form-group">

                                            <div class="row">
                                                <div class="col-md-3"><label>Repeat Every</label></div>
                                                <div class="col-md-2">
                                                    <input type="number" name="quantity" min="0" max="100" value="1" class="form-control tst1">
                                                </div>
                                                <div class="col-md-3">
                                                    <select name="recurringtype" class="form-control tst2">
                                                        <option value="">--Select--</option>
                                                        <option value="DAILY" selected="selected">Day</option>
                                                        <option value="WEEKLY">Week</option>
                                                        <option value="MONTHLY">Month</option>
                                                        <option value="YEARLY">Year</option>
                                                    </select>
                                                </div>
                                            </div>



                                        </div>







                                        <div class="row">
                                            <div class="form-group-btn btn-mob">
                                                <div class="col-sm-6">

                                                </div>
                                                <div class="col-sm-6">
                                                    <input type="button" class="btn btn-primary pull-right col-md-offset-3 btn-ven-wid" id="btnAddEvent" onclick="return AddEvent();" style="background-color: #0bb7a5; border-color:#0bb7a5" value="Save changes" />
                                                    <input type="button" class="btn btn-primary pull-right col-md-offset-3 btn-ven-wid" style="display:none;background-color: #0bb7a5; border-color:#0bb7a5" id="btnUpdateEvent" value="Save changes" />
                                                </div><!-- /.form-group-btn -->

                                            </div>

                                        </div>
                                    </div>
                                </form>

                            </div><!-- /.row -->
                        </div><!-- /.listing-contact-form -->



                    </div><!-- /.row -->
                </div><!-- /.listing-contact-form -->


            </div><!-- /.row -->
        </div><!-- /.listing-contact-form -->

    </div><!-- /.listing-contact-form -->






</div>




@section Scripts{
    <script>
        $(document).ready(function () {
            // Tooltip only Text
            $('.masterTooltip').hover(function () {
                                            // Hover over code
                                            var title = $(this).attr('title');
                $(this).data('tipText', title).removeAttr('title');
                $('<p class="tooltip1"></p>')
                    .text(title)
                    .appendTo('body')
                    .fadeIn('slow');
                                        }, function () {
                // Hover out code
                $(this).attr('title', $(this).data('tipText'));
                $('.tooltip1').remove();
                                        }).mousemove(function (e) {
                                            var mousex = e.pageX + -450; //Get X coordinates
                                            var mousey = e.pageY + 10; //Get Y coordinates

                $('.tooltip1')
                    .css({ top: mousey, left: mousex })
            });
                                    });
    </script>

    <script src="https://justbere-d4d9.kxcdn.com/Content/Plugins/swipebox/jquery.swipebox.min.js"></script>

    <script src="https://code.highcharts.com/highcharts.js"></script>
    <script>
        function getParameterByName( name ){
                                        var regexS = "[\\?&]"+name+"=([^&#]*)",
                                      regex = new RegExp( regexS ),
                                      results = regex.exec( window.location.search );
                                        if( results == null ){
                                            return "";
                                        } else{
                                            return decodeURIComponent(results[1].replace(/\+/g, " "));
                                        }
                                    }

    </script>
    <script type="text/javascript">

        var TransactionID =  getParameterByName('TransactionID');
        $(function () {
            $.ajax({
                                        url: '/Client/MyDeal/Chart',
                type: "GET",
                data: {
                                            TransactionID: TransactionID
                },
                dataType: "json",
                contentType: 'application/json; charset=utf-8',
                success: function (data) {
                                                // alert(data);
                                                var series = [];
                    for (var i in data)
                                                {
                                                    var serie = new Array(data[i].name, data[i].data);
                                                    series.push(serie);
                                                    //series.push({ name: data[i].label, data: data[i].y });

                                                }

                                                DrawPieChart(data);
                                            },
                error: function (xhr) {
                                                window.location.href ='/Account/Login'

                }
                                        });
                                    });
                                    function DrawPieChart(series) {
                                        var serie = [],
                                         len = series.length,
                                         i = 0;

                                        for (i; i < len; i++) {
                                            serie.push({
                                            name: [series[i].name],
                    data: [series[i].data]
                                            });
                                    }

                                    var chart = $('#chartContainer').highcharts({
                                    chart: {
                                        type: 'bar'

                },
                colors: [
                '#37b6bd',
                '#050505',
                '#36387b',
                '#f8f8f8',
                '#FF6600',
                '#666633',
                '#700c62',
                '#9B4AE9',
                '#FF2134'
                ],
                credits: {
                                        enabled: false
                },

                exporting: {
                                        enabled: false
                },
                yAxis: {
                                        min: 0,
                    max: 100,
                    title: {
                                            text: '% Completion'
                    }
                                        },
                tooltip: {
                                        formatter: function() {
                                                return this.series.name;
                                            }
                                        },
                xAxis: {
                                        min: 0,
                    gridLineWidth: 0,
                    labels: { enabled: false },
                    lineColor: 'transparent',
                },
                title: {
                                        text: 'Timeline'
                },

                legend: {
                                        reversed: true
                },
                plotOptions: {
                                        series: {
                                            stacking: 'normal',
                        showInLegend: false,
                    },
                    dataLabels: {

                                            format: '150 / 600',
                        enabled: true,
                        align: 'right',
                        style: {
                                                color: 'white',
                            textOutline: false,
                        }
                                            }
                                        },


                series: serie


            });
            $(window).resize(function(){
                                        var chart = $('#chartContainer').highcharts();
                                        var w = $('#chartContainer').closest(".wrapper").width()
                var h = $('#chartContainer').closest(".wrapper").height()
                chart.setSize(
                    h,w * (3/4),false
                );
                                    });

                                }
    </script>
    <script>
        (function($) {

            $('.swipebox' ).swipebox( {
                                    useCSS : true,
                useSVG : true,
                initialIndexOnArray : 0,
                hideCloseButtonOnMobile : false,
                removeBarsOnMobile : true,
                hideBarsDelay : 3000,
                videoMaxWidth : 1140,
                beforeOpen: function() {},
                afterOpen: null,
                afterClose: function() {},
                loopAtEnd: false
            } );



                                } )(jQuery);
    </script>
    <script type="text/javascript">
        $( document ).ready(function() {
            $( '.swipebox-video' ).swipebox();
                                });
    </script>
    <script>
        function getTimeRemaining(endtime) {

                                    var t = Date.parse(endtime) - Date.parse(new Date());
                                    var seconds = Math.floor((t / 1000) % 60);
                                    var minutes = Math.floor((t / 1000 / 60) % 60);
                                    var hours = Math.floor((t / (1000 * 60 * 60)) % 24);
                                    var days = Math.floor(t / (1000 * 60 * 60 * 24));
                                    return {
                                        'total': t,
                'days': days,
                'hours': hours,
                'minutes': minutes,
                'seconds': seconds
                                    };
                                }
                                function initializeClock(id, endtime) {
                                    var clock = document.getElementById(id);
                                    var daysSpan = clock.querySelector('.days');
                                    var hoursSpan = clock.querySelector('.hours');
                                    var minutesSpan = clock.querySelector('.minutes');
                                    var secondsSpan = clock.querySelector('.seconds');
                                    function updateClock() {
                                        var t = getTimeRemaining(endtime);
                                        var day = @Convert.ToDateTime(@Model.ClosingDate.ClosingDate).Subtract(@DateTime.Now).Days;
                                        daysSpan.innerHTML = day;
                                        hoursSpan.innerHTML = ('0' + t.hours).slice(-2);
                                        minutesSpan.innerHTML = ('0' + t.minutes).slice(-2);
                                        secondsSpan.innerHTML = ('0' + t.seconds).slice(-2);
                                        if (t.total <= 0) {
                                            clearInterval(timeinterval);
                                        }
                                    }

                                    updateClock();
                                    var timeinterval = setInterval(updateClock, 1000);
                                }
        @*var day =@Convert.ToDateTime(@Model.ClosingDate.ClosingDate).Subtract(@DateTime.Now).Days;
        var h =@Convert.ToDateTime(@Model.ClosingDate.ClosingDate).Subtract(@DateTime.Now).Hours.ToString();
        var m =@Convert.ToDateTime(@Model.ClosingDate.ClosingDate).Subtract(@DateTime.Now).Minutes.ToString();
        var s =@Convert.ToDateTime(@Model.ClosingDate.ClosingDate).Subtract(@DateTime.Now).Seconds.ToString();*@
        var deadline = new Date(Date.parse(new Date(@Convert.ToDateTime(@Model.ClosingDate.ClosingDate).Subtract(new DateTime(1970, 1, 1)).TotalMilliseconds)));
        var $clockDiv = $('#clockdiv');

        if ( $clockDiv.length){
            initializeClock('clockdiv', deadline);
        }
    </script>

    <script src="https://justbere-d4d9.kxcdn.com/Content/Plugins/aslider/jssor.slider-26.1.5.min.js"></script>
    <script type="text/javascript">
        jssor_1_slider_init = function() {

            var jssor_1_SlideshowTransitions = [
              {$Duration:500,$Delay:30,$Cols:8,$Rows:4,$Clip:15,$SlideOut:true,$Formation:$JssorSlideshowFormations$.$FormationStraightStairs,$Assembly:2049,$Easing:$Jease$.$OutQuad},
              {$Duration:500,$Delay:80,$Cols:8,$Rows:4,$Clip:15,$SlideOut:true,$Easing:$Jease$.$OutQuad},
              {$Duration:1000,x:-0.2,$Delay:40,$Cols:12,$SlideOut:true,$Formation:$JssorSlideshowFormations$.$FormationStraight,$Assembly:260,$Easing:{$Left:$Jease$.$InOutExpo,$Opacity:$Jease$.$InOutQuad},$Opacity:2,$Outside:true,$Round:{$Top:0.5}},
              {$Duration:2000,y:-1,$Delay:60,$Cols:15,$SlideOut:true,$Formation:$JssorSlideshowFormations$.$FormationStraight,$Easing:$Jease$.$OutJump,$Round:{$Top:1.5}},
              {$Duration:1200,x:0.2,y:-0.1,$Delay:20,$Cols:8,$Rows:4,$Clip:15,$During:{$Left:[0.3,0.7],$Top:[0.3,0.7]},$Formation:$JssorSlideshowFormations$.$FormationStraightStairs,$Assembly:260,$Easing:{$Left:$Jease$.$InWave,$Top:$Jease$.$InWave,$Clip:$Jease$.$OutQuad},$Round:{$Left:1.3,$Top:2.5}}
            ];

            var jssor_1_options = {
                $AutoPlay: 1,
                $SlideshowOptions: {
                    $Class: $JssorSlideshowRunner$,
                    $Transitions: jssor_1_SlideshowTransitions,
                    $TransitionsOrder: 1
                },
                $ArrowNavigatorOptions: {
                    $Class: $JssorArrowNavigator$
                },
                $BulletNavigatorOptions: {
                    $Class: $JssorBulletNavigator$
                }
            };

            var jssor_1_slider = new $JssorSlider$("jssor_1", jssor_1_options);

            /*#region responsive code begin*/

            var MAX_WIDTH = 980;

            function ScaleSlider() {
                var containerElement = jssor_1_slider.$Elmt.parentNode;
                var containerWidth = containerElement.clientWidth;
                if (containerWidth) {

                    var expectedWidth = Math.min(MAX_WIDTH || containerWidth, containerWidth);

                    jssor_1_slider.$ScaleWidth(expectedWidth);

                }
                else {
                    window.setTimeout(ScaleSlider, 30);
                }
            }

            ScaleSlider();

            $Jssor$.$AddEvent(window, "load", ScaleSlider);
            $Jssor$.$AddEvent(window, "resize", ScaleSlider);
            $Jssor$.$AddEvent(window, "orientationchange", ScaleSlider);
            /*#endregion responsive code end*/
        };
    </script>
    <script type="text/javascript">jssor_1_slider_init();</script>



    @*----------------------------------- Add Document Script---------------------------------*@

    <script>

       $(document).ready(function () {

           loadData();
        });

        //Load Data function    Recent change replace loaddata()
        function loadData() {
            $.ajax({
                url: "/MyDeal/ClientDealDocumentList",
                type: "GET",
                data: {
                    TransactionID: TransactionID
                },
                contentType: "application/json;charset=utf-8",
                dataType: "json",
                success: function (result) {

                    var html = '';
                    $.each(result, function (key, item) {
                        html += '<div class="listing-small ">'
                        html +='<div class="listing-small-inner">'
                        html += '<div class="listing-small-image">';
                        html += '  <a download href="~/UploadedFiles/TrackDeal/'+item.DocFile+'" target="_blank" style="background-image: url(../../../../Content/AppDashboard/assets/img/tmp/doc.jpg);"> </a>';
                        html += '</div>';
                        html += '<div class="listing-small-content">';

                        html += '<h3><a class="sassText" download href="~/UploadedFiles/TrackDeal/'+item.DocFile+'" target="_blank">'+item.Title+'</a><a href="#!" title="Edit" class="sassIcon" id="aEditDoc" data-ClientDocId="'+item.ClientDocId+'"  onclick="return getClientDocumentByID('+ item.DocId +')"> <img src="/img/edit-doc.png" /></a> <a href="#!" title="Delete" class="sassIcon" id="aDeleteDoc" data-ClientDocId="'+item.ClientDocId+'"   onclick="DeleleDocument()"> <img src="/img/delete-doc.png" /></a></h3>';

                        html += '</h3>';
                        html += '</div>';
                        html += '</div>';
                        html += '</div>';
                    });

                    $('.tDocumentbody').html(html);
                },
                error: function (errormessage) {
                    alert('Sorry, Something went wrong. Please try again.');
                }
            });
        }

        //Add Data Function
        function AddDocument() {
            var res = validate();
            if (res == false) {
                return false;
            }
            var form = $('#FormUpload')[0];
            var dataString = new FormData(form);
            $.ajax({
                url: "/MyDeal/AddClientDealDocument",
                data:dataString,
                type: "POST",
                cache: false,
                contentType: false,
                processData: false,
                dataType: "json",
                success: function (result) {
                //    alert(result) remove alert
                    if(result=="0"){
                       loadData();
                        $('#DocumentModalPopUp').modal('hide');
                        $('#lblError').css('display','none')
                    }
                    else{

                        $('#lblError').css('display','block')
                        $('#lblError').text(result)
                    }


                },
                error: function (errormessage) {
                    $('#lblError').css('display','block');
                    $('#lblError').text('Sorry, Something went wrong. Please try again.');
                    //alert(errormessage.responseText);
                }
            });
        }

        //Function for getting the Data Based upon Document ID
        function getClientDocumentByID(Id) {
            $('#txtDocId').val("");
            $('#txtClientDocId').val();
            $('#txtTitle').val("");
            $('#txtDescription').val("");
            $('#flDocFile').val("");
            $('#lblTitle').css('display', 'none');
            $('#lblDocFile').css('display', 'none');
            $('#lblError').css('display','none')
            var ClientDocId= $("#aEditDoc").attr("data-clientdocid")
            $.ajax({
                url: "/MyDeal/GetClientDealDocumentByID",
                data: {
                    ID: Id,
                    ClientDocId:ClientDocId
                },
                type: "GET",
                contentType: "application/json;charset=UTF-8",
                dataType: "json",
                success: function (result) {
                    $('#txtDocId').val(result.DocId);
                    $('#txtClientDocId').val(ClientDocId);
                    $('#txtTitle').val(result.Title);
                    $('#txtDescription').val(result.Description);
                    $('#txtFilename').val(result.DocFile);


                    $('#DocumentModalPopUp').modal('show');
                    $('#btnUpdateDocument').show();
                    $('#btnAddDocument').hide();
                },
                error: function (errormessage) {
                    $('#lblError').css('display','block');
                    $('#lblError').text('Sorry, Something went wrong. Please try again.');
                }
            });
            return false;
        }

        //function for updating document
        function UpdateDocument() {
            var res = validate();
            if (res == false) {
                return false;
            }
            var form = $('#FormUpload')[0];
            var dataString = new FormData(form);
            $.ajax({
                url: "/MyDeal/UpdateClientDealDocument",
                data:dataString,
                type: "POST",
                cache: false,
                contentType: false,
                processData: false,
                dataType: "json",
                success: function (result) {
                    if(result=="0"){
                    loadData();
                    $('#DocumentModalPopUp').modal('hide');
                    $('#txtDocId').val("");
                    $('#txtClientDocId').val("");
                    $('#txtTitle').val("");
                    $('#txtDescription').val("");
                    $('#txtFilename').val("");
                    $('#lblError').css('display','none')
                    }
                    else{

                        $('#lblError').css('display','block')
                        $('#lblError').text(result)
                    }
                },
                error: function (errormessage) {
                    $('#lblError').css('display','block');
                    $('#lblError').text('Sorry, Something went wrong. Please try again.');
                }
            });
        }

        //function for deleting employee's record
        function DeleleDocument() {
            var ans = confirm("Are you sure you want to delete this Record?");
            if (ans) {
                var ID= $("#aDeleteDoc").attr("data-clientdocid")
                $.ajax({
                    url: "/MyDeal/DeleteClientDealDocument/" + ID,
                    type: "POST",
                    contentType: "application/json;charset=UTF-8",
                    dataType: "json",
                    success: function (result) {

                        loadData();
                    },
                    error: function (errormessage) {
                        alert('Sorry, Something went wrong. Please try again.');
                    }
                });
            }
        }

        //Function for clearing the textboxes
        function clearTextBox() {
            $('#txtDocId').val("");
            $('#txtTitle').val("");
            $('#txtDescription').val("");
            $('#flDocFile').val("");
            $('#btnUpdateDocument').hide();
            $('#btnAddDocument').show();
            $('#lblTitle').css('display', 'none');
            $('#lblDocFile').css('display', 'none');
            $('#lblError').css('display','none')
        }
        //Valdidation using jquery
        function validate() {
            var isValid = true;
            if ($('#txtTitle').val().trim() == "") {
                $('#lblTitle').css('display', 'block');
                isValid = false;
            }
            else {
                $('#lblTitle').css('display', 'none');
            }

            if ($('#flDocFile').val() == "" && $('#txtDocId').val() == "") {
                $('#lblDocFile').css('display', 'block');
                isValid = false;
            }
            else {
                $('#lblDocFile').css('display', 'none');
            }

            return isValid;
        }
    </script>

    @*----------------------------------- Add Document Script---------------------------------*@

    @*--------------- Add Vendor Script --------------*@




    <script>

    //Load Data function
    function loadDataV() {
        $.ajax({
            url: "/MyDeal/ClientVendorList",
            type: "GET",
            data: {
                TransactionID: TransactionID
            },
            contentType: "application/json;charset=utf-8",
            dataType: "json",
            success: function (result) {
                $("#ajaxLoading").css("display", "block");
                $("#ajaxLoading").css("top", $(window).height() / 1.8);
                $("#ajaxLoading").css("left", $(window).width() / 2);
                $("#ajaxLoading").css("position", "fixed");
                $("#ajax-backdrop").css("display", "block");
                //$(".phone-email-div").css("display", "block")
                var html = '';
                $.each(result, function (key, item) {

                    html += '<div class="post" style="margin:0 0 10px 0">'
                    html +='<div class="post-title pos-ttl-ven" style="font-size:0.6em">'
                    html += '<h2><a href="#" style="cursor:initial;" class="sassText">'+item.VendorType+': '+ item.Vendor +'  </a>';
                    if(item.UserRole == "Client")
                    {        html += '<span class="editIcons">'
                    html += '<a href="#!" id="editv" title="Edit" class="sassIcon" data-DealVendor_Id="'+item.DealVendorId+'" data-Vendor_Id="'+item.Vendor_Id+'"><img src="/img/edit-doc.png" /></a>';
                        html += '<a href="#!" id="deletev" title="Delete" class="sassIcon" data-Vendor_Id="'+item.DealVendorId+'"><img src="/img/delete-doc.png" /></a>';
                        html += '</span>'
                    }

                    html += '</h2></div><!-- /.post-title -->';
                    if(item.VendorPhone.length == 0&&item.VendorEmail.length == 0){

                    }
                    else{
                        html += '<div class="post-meta phone-email-div" >';

                        if (item.VendorPhone.length > 0)
                        {

                            html += '<div class="post-meta-item">';
                            html +=' <a href="tel:'+item.VendorPhone+'" style="color: #0bb7a5"> <i class="fa fa-phone"></i> '+item.VendorPhone+'</a>';
                            html += ' </div><!-- /.post-meta-item -->';
                        }
                        if (item.VendorEmail.length > 0)
                        {
                            html += '<div class="post-meta-item">';
                            html += '<i class="fa fa-envelope"></i> <a href="mailto:'+item.VendorEmail+'" style="color: #0bb7a5;cursor:initial">'+item.VendorEmail+'</a>';
                            html += ' </div><!-- /.post-meta-item -->';
                        }

                        html += '  </div><!-- /.post-meta -->';
                    }
                    html += ' <!-- /.post-content -->';
                    html += '<!-- /.post-read-more -->';
                    html += '</div>';
                });
                $('.vendorlist').html("");
                $('.vendorlist').html(html);
                $("#ajaxLoading").css("display", "none");
                $("#ajax-backdrop").css("display", "none");
            },
            error: function (errormessage) {
                $('#lblErrorVendor').text('Sorry, Something went wrong. Please try again.');
            }
        });
    }
    //Add Data Function
    function AddVendor() {
        $(".additionalfield").css("display","none");

        var res = validateVendor();
        if (res == false) {
            return false;
        }
        var form = $('#FormUploadVendor')[0];
        var dataString = new FormData(form);
        $.ajax({
            url: "/MyDeal/AddClientDealVendor",
            data:dataString,
            type: "POST",
            cache: false,
            contentType: false,
            processData: false,
            dataType: "json",
            success: function (result) {
                //$("#vendorlist").html(result);
                if(result=="0"){
                    loadDataV();
                    $('#VendorModalPopUp').modal('hide');
                    $('#lblErrorVendor').css('display','none')
                }
                else{

                    $('#lblErrorVendor').css('display','block')
                    $('#lblErrorVendor').text(result)
                }


            },
            error: function (errormessage) {
                $('#lblErrorVendor').css('display','block');
                $('#lblErrorVendor').text('Sorry, Something went wrong. Please try again.');
                //alert(errormessage.responseText);
            }
        });
    }


    //Function for getting the Data Based upon Document ID
    function getClientVendorByID(Id) {

        $(".additionalfield").css("display","block");

        $('#VendorType').val("");
        $('#txtTitleV').val("");
        $('#txtSubTitle').val("");
        $('#txtAbout').val("");
        $('#txtEmail').val("");
        $('#txtWebsitelink').val("");
        $('#txtPhone').val("");
        $('#txtLocation').val("");
        $('#txtVenId').val("");
        $('#txtVenImage').val("");
        $('#flVenFile').val("");
        //$('#lblTitle').css('display', 'none');
        //$('#lblDocFile').css('display', 'none');
        $('#lblErrorVendor').css('display','none')
        $.ajax({
            url: "/MyDeal/GetClientDealVendorByID/" + Id,
            typr: "GET",
            contentType: "application/json;charset=UTF-8",
            dataType: "json",
            success: function (result) {

                $('#VendorType').val(result.Category_Name);
                $('#txtTitleV').val(result.Title);
                $('#txtSubTitle').val(result.SubTitle);
                $('#txtAbout').val(result.About);
                $('#txtEmail').val(result.Email);
                $('#txtWebsitelink').val(result.WebsiteLink);
                $('#txtPhone').val(result.Phone);
                $('#txtLocation').val(result.Location);
                $('#txtVenId').val(result.VendorId);
                $('#txtVenImage').val(result.VendorImage);
                $('#lblTitleV').css('display', 'none');
                $('#lblVendorType').css('display', 'none');
                $('#lblVendorType').css('display', 'none');
                $('#lblEmailV').css('display', 'none');
                $('#lblPhoneV').css('display', 'none');
                $('#lblWebsiteV').css('display', 'none');

                $('#VendorModalPopUp').modal('show');
                $('#btnUpdateVendor').show();
                $('#btnAddVendor').hide();
            },
            error: function (errormessage) {
                $('#lblErrorVendor').css('display','block');
                $('#lblErrorVendor').text('Sorry, Something went wrong. Please try again.');
            }
        });
        return false;
    }

    //function for updating document
    function UpdateVendor() {
        var res = validateVendor();
        if (res == false) {
            return false;
        }
        var form = $('#FormUploadVendor')[0];
        var dataString = new FormData(form);
        $.ajax({
            url: "/MyDeal/UpdateClientDealVendor",
            data:dataString,
            type: "POST",
            cache: false,
            contentType: false,
            processData: false,
            dataType: "json",
            success: function (result) {

                if(result=="0"){
                    loadDataV();
                    $('#VendorModalPopUp').modal('hide');
                    $('#VendorType').val("");
                    $('#txtTitleV').val("");
                    $('#txtSubTitle').val("");
                    $('#txtAbout').val("");
                    $('#txtEmail').val("");
                    $('#txtWebsitelink').val("");
                    $('#txtPhone').val("");
                    $('#txtLocation').val("");
                    $('#txtVenId').val("");
                    $('#txtVenImage').val("");
                    $('#flVenFile').val("");
                    $('#lblErrorVendor').css('display','none')
                }
                else{
                    $('#lblErrorVendor').css('display','block')
                    $('#lblErrorVendor').text(result)
                }


            },
            error: function (errormessage) {
                $('#lblErrorVendor').css('display','block');
                $('#lblErrorVendor').text('Sorry, Something went wrong. Please try again.');
            }
        });
    }
    $(function(){
        $(document).off('click', '#deletev').on('click', '#deletev', function () {
            //$("#deletev").on("click", function(){

            //    alert();
            var id= $(this).attr("data-Vendor_Id");
            DeleleVendor(id);
        })
        $(document).off('click', '#editv').on('click', '#editv', function () {
            //$("#editv").on("click", function(){
            $('#txtDealVendorId').val('');
            $(".additionalfield").css("display","block");

            var id= $(this).attr("data-Vendor_Id");
            $('#txtDealVendorId').val($(this).attr("data-DealVendor_Id"))
            getClientVendorByID(id);
        })
        $(document).off('click', '#btnUpdateVendor').on('click', '#btnUpdateVendor', function () {

            UpdateVendor();
        })
        //editv
    })


    //function for deleting employee's record
    function DeleleVendor(ID) {
        var ans = confirm("Are you sure you want to delete this Record?");
        if (ans) {
            $.ajax({
                url: "/MyDeal/DeleteClientDealVendor/" + ID,
                type: "POST",
                contentType: "application/json;charset=UTF-8",
                dataType: "json",
                success: function (result) {

                    loadDataV();
                },
                error: function (errormessage) {

                    alert('Sorry, Something went wrong. Please try again.');
                }
            });
        }
    }

    //Function for clearing the textboxes
    function clearTextBoxVendor() {
        $(".additionalfield").css("display","none");
        $('#VendorType').val("");
        $('#txtTitleV').val("");
        $('#txtSubTitle').val("");
        $('#txtAbout').val("");
        $('#txtEmail').val("");
        $('#txtWebsitelink').val("");
        $('#txtPhone').val("");
        $('#txtLocation').val("");
        $('#txtVenId').val("");
        $('#txtVenImage').val("");
        $('#flVenFile').val("");
        $('#btnUpdateVendor').hide();
        $('#btnAddVendor').show();
        $('#lblTitleV').css('display', 'none');
        $('#lblVendorType').css('display', 'none');
        $('#lblVendorType').css('display', 'none');
        $('#lblEmailV').css('display', 'none');
        $('#lblPhoneV').css('display', 'none');
        $('#lblWebsiteV').css('display', 'none');
        $('#lblErrorVendor').css('display','none')
    }
    //Valdidation using jquery
    function validateVendor() {
        var isValid = true;
        if ($('#VendorType').val().trim() == "") {
            $('#lblVendorType').css('display', 'block');
            isValid = false;
        }
        else {
            $('#lblVendorType').css('display', 'none');
        }

        if ($('#txtTitleV').val().trim() == "") {
            $('#lblTitleV').css('display', 'block');
            isValid = false;
        }
        else {
            $('#lblTitleV').css('display', 'none');
        }


        if ($('#txtEmail').val() != "") {

            if (!ValidateEmail($("#txtEmail").val())) {
                $('#lblEmailV').css('display', 'block');
                isValid = false;
            }
            else {
                $('#lblEmailV').css('display', 'none');
            }


        }
        else {
            $('#lblEmailV').css('display', 'none');
        }




        if ($('#txtPhone').val() != "") {
            console.log($('#txtPhone').val());
            console.log($('#txtPhone').val().length);
            if($('#txtPhone').val().length<12){
                $('#lblPhoneV').css('display', 'block');
                isValid = false;
            }
            else {
                $('#lblPhoneV').css('display', 'none');
            }


        }
        else {
            $('#lblPhoneV').css('display', 'none');
        }


        if ($('#txtWebsitelink').val() != "") {

            if (!is_valid_url($("#txtWebsitelink").val())) {
                $('#lblWebsiteV').css('display', 'block');
                isValid = false;
            }
            else {


                $('#lblWebsiteV').css('display', 'none');
            }


        }
        else {
            $('#lblWebsiteV').css('display', 'none');
        }

        return isValid;
    }

    function ValidateEmail(email) {
        var expr =/^([\w-\.]+@@([\w-]+\.)+[\w-]{2,6})?$/
        return expr.test(email);
    };



        function is_valid_url(url)
        {
            return /^(http(s)?:\/\/)?(www\.)?[a-z0-9]+([\-\.]{1}[a-z0-9]+)*\.[a-z]{2,5}(:[0-9]{1,5})?(\/.*)?$/.test(url);
        }


    $('#txtPhone').keydown(function (e) {
            var key = e.which || e.charCode || e.keyCode || 0;
            $phone = $(this);

            // Don't let them remove the starting '('


            // Auto-format- do not expose the mask as the user begins to type
            if (key !== 8 && key !== 9) {
                if ($phone.val().length === 3) {
                    $phone.val($phone.val() + '.');
                }
                if ($phone.val().length === 7) {
                    $phone.val($phone.val() + '.');
                }

            }

            // Allow numeric (and tab, backspace, delete) keys only
            return (key == 8 ||
                    key == 9 ||
                    key == 46 ||
                    (key >= 48 && key <= 57) ||
                    (key >= 96 && key <= 105));
        })

         .bind('focus click', function () {
             $phone = $(this);


         })

         .blur(function () {
             $phone = $(this);


         });

    </script>
    <link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">

    @* ----------------Add Event Script---------- *@
    <script src="https://justbere-d4d9.kxcdn.com/Scripts/moment.min.js"></script>
    @*<script src="https://justbere-d4d9.kxcdn.com/Scripts/bootstrap-datetimepicker.min.js"></script>*@

    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
    @* datepicker *@
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jquery-datetimepicker/2.5.20/jquery.datetimepicker.css" type="text/css">
    @*<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>*@
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-datetimepicker/2.5.20/jquery.datetimepicker.full.js"></script>

    <script type="text/javascript">
        $(function () {
            jQuery('#txtStartDate').datetimepicker({
                minDate: new Date(),
                onShow:function( ct ){
                    this.setOptions({
                        maxDate:jQuery('#txtEndDate').val()?jQuery('#txtEndDate').val():false
                    })
                },
                timepicker:true
            });
            jQuery('#txtEndDate').datetimepicker({

                onShow:function( ct ){
                    this.setOptions({
                        minDate:jQuery('#txtStartDate').val()?jQuery('#txtStartDate').val():false
                    })
                },
                timepicker:true
            });
           // $("#txtStartDate").datetimepicker();
            //jQuery('#txtStartDate').datetimepicker({
            //    minDate: new Date(),

            //}).on("change", function (e) {
            //    $('#txtEndDate').data("datetimepicker").minDate(e.date);
            //});
            //$("#txtEndDate").datetimepicker({ minDate: new Date(),
            //    useCurrent: false}).on("change", function (e) {
            //        $('#txtStartDate').data("datetimepicker").maxDate(e.date);
            //        });

        });
    </script>
    <script type="text/javascript">

    //Load Data function
    function loadDataE() {
        $.ajax({
            url: "/MyDeal/ClientEventList",
            type: "GET",
            data: {
                TransactionID: TransactionID
            },
            contentType: "application/json;charset=utf-8",
            dataType: "json",
            success: function (result) {
                $("#ajaxLoading").css("display", "block");
                $("#ajaxLoading").css("top", $(window).height() / 1.8);
                $("#ajaxLoading").css("left", $(window).width() / 2);
                $("#ajaxLoading").css("position", "fixed");
                $("#ajax-backdrop").css("display", "block");
                //$(".phone-email-div").css("display", "block")
                var html = '';
                html += '<div class="post" style="margin:0 0 10px 0">'
                html += '<table class="table table-bordered custTableAgenda table-striped ">'
                html += '<tbody>'
                html += '<tr>'
                html += '<th>Date</th>'
                html += '<th>Description</th>'
                html += '<th class="actionwdth">Action</th>'
                html += '</tr>'
                $.each(result, function (key, item) {


                    html += '<tr>'
                    html += '<td>'+item.Date +'</td>'
                    html += '<td>'+item.Description +'</td>'
                    html += '<td>'

                    if(item.UserRole == "Client")
                    {        html += '<span class="editIcons">'
                        html += '<a href="#!" id="editevent" title="Edit" class="sassIcon" data-DealEvent_Id="'+item.Id+'" data-Event_Id="'+item.Id+'"><img src="/img/edit-doc.png" /></a>';
                        html += '<a href="#!" id="deletevent" title="Delete" class="sassIcon" data-Event_Id="'+item.Id+'"><img src="/img/delete-doc.png" /></a>';
                        html += '</span>'
                    }
                    html += '</td>'
                    html += '</tr>'

                });
                html += '</tbody>'
                html += '</table>';
                html += '</div>';
                if(result.length > 0)
                {
                    $('.Eventlist').html("");
                    $('.Eventlist').html(html);
                }
                else{ $('.Eventlist').html("");}
                $("#ajaxLoading").css("display", "none");
                $("#ajax-backdrop").css("display", "none");
            },
            error: function (errormessage) {
                $('#lblErrorVendor').text('Sorry, Something went wrong. Please try again.');
            }
        });
    }
    $(function () {

                $('#EventTitle').autocomplete({
                    source: function (request, response) {
                        //$("#ajaxLoading").attr("style", "display: none");
                        //$("#ajax-backdrop").attr("style", "display: none");
                        var itemnamecodes = new Array();
                        $.ajax({
                            type: 'POST',
                            url: '@Url.Action("autocompleteEvent", "MyDeal")',
                            dataType: 'json',
                            data: { term: request.term },
                            success: function (data) {
                                response($.map(data, function (item) {
                                    console.log(item);
                                    return { label: item.Value, Id: item.Key };
                                }))
                            }
                        })
                    },
                    minLength: 0,

                    select: function (e, i) {
                        $("#ListingSHA").val(i.item.Value);


                    }
                }).focus(function() {
                    $(this).autocomplete("search", "");
                    $('#EventTitle').autocomplete({
                        autoFocus: true
                    })
                });
        });

    //Add Data Function
    function AddEvent() {

        var res = validateEvent();
        if (res == false) {
            return false;
        }
        var form = $('#FormUploadEvent')[0];
        var dataString = new FormData(form);
        $.ajax({
            url: "/MyDeal/AddClientDealEvent",
            data:dataString,
            type: "POST",
            cache: false,
            contentType: false,
            processData: false,
            dataType: "json",
            success: function (result) {
                //$("#vendorlist").html(result);
                if(result=="0"){

                    $('#EventModalPopUp').modal('hide');
                    $('#lblErrorEvent').css('display','none')
                    loadDataE();

                }
                else{

                    $('#lblErrorEvent').css('display','block')
                    $('#lblErrorEvent').text('Sorry, Something went wrong. Please try again.');
                    console.log(result);
                }




            },
            error: function (errormessage) {
                $('#lblErrorEvent').css('display','block');
                $('#lblErrorEvent').text(errormessage);
                //alert(errormessage.responseText);
            }
        });

    }


    //Function for getting the Data Based upon Document ID
    function getClientEventByID(Id) {


        clearTextBoxEvent();
        $.ajax({
            url: "/MyDeal/GetClientDealEventByID/" + Id,
            typr: "GET",
            contentType: "application/json;charset=UTF-8",
            dataType: "json",
            success: function (result) {

                $('#EventTitle').val(result.Description);
                var date = /Date(1297246301973)/;
                var parsedStartDate = new Date(parseInt(result.StartDate.toString().substr(6)));
                var parsedEndDate = new Date(parseInt(result.EndDate.toString().substr(6)));
                //var dt = moment(result.StartDate).zone("-07:00");


                $('#txtEventId').val(result.Id);
                $('#txtStartDate').val(format(new Date(result.StartDate),"yyyy/MM/dd HH:mm"));
                $('#txtEndDate').val(format(new Date(result.EndDate),"yyyy/MM/dd HH:mm"));
                $('#lblEventTitle').css('display', 'none');
                $('#lblStartDate').css('display', 'none');
                $('#lblEndDate').css('display', 'none');


                $('#EventModalPopUp').modal('show');
                $('#btnUpdateEvent').show();
                $('#btnAddEvent').hide();
            },
            error: function (errormessage) {
                $('#lblErrorEvent').css('display','block');
                $('#lblErrorEvent').text('Sorry, Something went wrong. Please try again.');
            }
        });
        return false;
    }
    var format = function (time, format) {
        var t = new Date(time);
        var tf = function (i) { return (i < 10 ? '0' : '') + i };
        return format.replace(/yyyy|MM|dd|HH|mm|ss/g, function (a) {
            switch (a) {
                case 'yyyy':
                    return tf(t.getFullYear());
                    break;
                case 'MM':
                    return tf(t.getMonth() + 1);
                    break;
                case 'mm':
                    return tf(t.getMinutes());
                    break;
                case 'dd':
                    return tf(t.getDate());
                    break;
                case 'HH':
                    return tf(t.getHours());
                    break;
                case 'ss':
                    return tf(t.getSeconds());
                    break;
            }
        })
    }




    //function for updating document
    function UpdateEvent() {
        var res = validateEvent();
        if (res == false) {
            return false;
        }
        var form = $('#FormUploadEvent')[0];
        var dataString = new FormData(form);
        $.ajax({
            url: "/MyDeal/UpdateClientDealEvent",
            data:dataString,
            type: "POST",
            cache: false,
            contentType: false,
            processData: false,
            dataType: "json",
            success: function (result) {
                loadDataE();
                if(result=="0"){

                    $('#EventModalPopUp').modal('hide');
                    $('#EventTitle').val("");
                    $('#txtStartDate').val("");
                    $('#txtEndDate').val("");

                    $('#lblErrorEvent').css('display','none')
                }
                else{
                    $('#lblErrorEvent').css('display','block')
                    $('#lblErrorEvent').text('Sorry, Something went wrong. Please try again.')
                    console.log(result);
                }


            },
            error: function (errormessage) {
                $('#lblErrorEvent').css('display','block');
                $('#lblErrorEvent').text('Sorry, Something went wrong. Please try again.');
            }
        });
    }
    $(function(){
        $(document).off('click', '#deletevent').on('click', '#deletevent', function () {
            //$("#deletev").on("click", function(){

            //    alert();
            var id= $(this).attr("data-Event_Id");
            DeleleEvent(id);
        })
        $(document).off('click', '#editevent').on('click', '#editevent', function () {
            //$("#editv").on("click", function(){
            //$('#txtDealVendorId').val('');
            //$(".additionalfield").css("display","block");

            var id= $(this).attr("data-Event_Id");
        //    $('#txtDealVendorId').val($(this).attr("data-DealVendor_Id"))
            getClientEventByID(id);
        })
        $(document).off('click', '#btnUpdateEvent').on('click', '#btnUpdateEvent', function () {

            UpdateEvent();
        })
        //editv
    })


    //function for deleting employee's record
    function DeleleEvent(ID) {
        var ans = confirm("Are you sure you want to delete this Record?");
        if (ans) {
            $.ajax({
                url: "/MyDeal/DeleteClientDealEvent/" + ID,
                type: "POST",
                contentType: "application/json;charset=UTF-8",
                dataType: "json",
                success: function (result) {

                    loadDataE();
                },
                error: function (errormessage) {

                    alert('Sorry, Something went wrong. Please try again.');
                }
            });
        }
    }

    //Function for clearing the textboxes
    function clearTextBoxEvent() {

        $('#EventTitle').val("");
        $('#txtStartDate').val("");
        $('#txtEndDate').val("");
        $('#btnUpdateEvent').hide();
        $('#btnAddEvent').show();
        $('#lblEventTitle').css('display', 'none');
        $('#lblStartDate').css('display', 'none');
        $('#lblEndDate').css('display', 'none');
        $('#lblErrorEvent').css('display', 'none');

    }
    //Valdidation using jquery
    function validateEvent() {
        var isValid = true;
        if ($('#EventTitle').val().trim() == "") {
            $('#lblEventTitle').css('display', 'block');
            isValid = false;
        }
        else {
            $('#lblEventTitle').css('display', 'none');
        }

        if ($('#txtStartDate').val().trim() == "") {
            $('#lblStartDate').css('display', 'block');
            isValid = false;
        }
        else {
            $('#lblStartDate').css('display', 'none');
        }

        if ($('#txtEndDate').val().trim() == "") {
            $('#lblEndDate').css('display', 'block');
            isValid = false;
        }
        else {
            $('#lblEndDate').css('display', 'none');
        }






        return isValid;
    }
    </script>
    <script>
        //$("#datetimepicker1").on("dp.change", function (e) {
        //    $('#datetimepicker2').data("DateTimePicker").minDate(e.date);
        //});
        //$("#datetimepicker2").on("dp.change", function (e) {
        //    $('#datetimepicker1').data("DateTimePicker").maxDate(e.date);
        //});






    </script>
    @*----------- To Do List  -------------------------------------*@

    @*<script src="https://code.jquery.com/jquery-3.4.1.js"
        integrity="sha256-WpOohJOqMqqyKL9FccASB9O0KwACQJpFTUBLTYOVvVU="
        crossorigin="anonymous"></script>*@
    <script>

    //var ClientId = getParameterByName('ClientId');
    //function getParameterByName(name) {
    //    var regexS = "[\\?&]" + name + "=([^&#]*)",
    //  regex = new RegExp(regexS),
    //  results = regex.exec(window.location.search);
    //    if (results == null) {
    //        return "";
    //    } else {
    //        return decodeURIComponent(results[1].replace(/\+/g, " "));
    //    }
    //}


    $(document).ready(function () {
        clearToDoList();
        loadToDoList();
    });

    function loadToDoList() {
        $.ajax({
            url: "/MyDeal/BindToDoList?TransactionID="+TransactionID,
            type: "GET",
            contentType: "application/json;charset=utf-8",
            dataType: "json",
            success: function (result) {

                var html = '';
                $.each(result, function (key, item) {
                     html += '<tr>'
                    if (item.IsDone == false) {
                        html += '<td class="todoLI"   ><span class="todo-check" title="done"><input type="checkbox" onclick="MarkAsRead(' + item.Id + ',' + true + ')"/></span></td>'
                        html += '<td><span class="todo-plaintext" id="lblName" value="dfgdf" >'+item.Task+'</span>  <input type = "text" style = "display:none;width: auto;margin: 5px 10px 0 0px; border: 1px solid #ddd;height: 19px;min-height: 30px;min-width: 363px;" class="form-control" /></td>'
                    }
                    else {
                        html += '<td   class="todoLI"><span class="todo-check" title="done"><input type="checkbox" checked onclick="MarkAsRead(' + item.Id + ',' + false + ')"/></span></td>'
                        html += '<td class="checked"><span class="todo-plaintext" id="lblName" value="dfgdf" >'+item.Task+'</span>  <input type = "text" style = "display:none;width: auto;margin: 5px 10px 0 0px; border: 1px solid #ddd;height: 19px;min-height: 30px;min-width: 470px;" class="form-control" /></td>'
                    }

                    //html += '<td><span class="todo-plaintext" id="lblName" value="dfgdf" >'+item.Task+'</span>  <input type = "text" style = "display:none;width: auto;margin: 5px 10px 0 0px; border: 1px solid #ddd;height: 19px;min-height: 30px;min-width: 363px;" class="form-control" /></td>'

                    html += '<td><span class="todoclose todo-edit-list" style="cursor:pointer;" onclick="editable(this,' + item.Id + ')" title="edit"><img src="/img/edit-doc.png"/></span></td><td><span class="todoclose todo-delete-list" style="cursor:pointer" onclick="DeleleToDoList(' + item.Id + ')" title="delete"><img src="/img/delete-doc.png"/></span></td>';
                   html += '</tr>'
                });

                $('#myToDoList').html(html);
            },
            error: function (errormessage) {
                alert('Sorry, Something went wrong. Please try again.');
            }
        });
    }

    //Add Data Function
    function AddToDoList() {
        var res = validateToDoList();
        if (res == false) {
            return false;
        }
        var form = $('#FormUpload')[0];
        var dataString = new FormData(form);
        $.ajax({
            url: "/MyDeal/AddToDoList",
            data: dataString,
            type: "POST",
            cache: false,
            contentType: false,
            processData: false,
            dataType: "json",
            success: function (result) {
                //    alert(result) remove alert
                if (result == "0") {
                    loadToDoList();
                    clearToDoList();
                }
                else {
                    $('#lblError').css('display', 'block')
                    $('#lblError').text(result)
                }


            },
            error: function (errormessage) {
                $('#lblError').css('display', 'block');
                $('#lblError').text('Sorry, Something went wrong. Please try again.');
            }
        });
    }


    //Add Data Function
    function EditToDoList(task,Id) {
        //var res = validateToDoList();
        //if (res == false) {
        //    return false;
        //}
      //  var form = $('#FormUpload')[0];
      //  var dataString = new FormData(form);
        $.ajax({
            url: "/MyDeal/EditToDoList?Task="+task+"&Id="+Id,
        //    data: dataString,
            type: "POST",
            cache: false,
            contentType: false,
            processData: false,
            dataType: "json",
            success: function (result) {
                //    alert(result) remove alert
                if (result == "0") {
                    loadToDoList();
                    clearToDoList();
                }
                else {
                    $('#lblError').css('display', 'block')
                    $('#lblError').text(result)
                }


            },
            error: function (errormessage) {
                $('#lblError').css('display', 'block');
                $('#lblError').text('Sorry, Something went wrong. Please try again.');
            }
        });
    }

    //function for deleting employee's record
    function DeleleToDoList(ID) {
        //var ans = confirm("Are you sure you want to delete this record?");
        //if (ans) {
            //  var ID = $(this).attr("data-Id")
            $.ajax({
                url: "/MyDeal/DeleteTask/" + ID,
                type: "POST",
                contentType: "application/json;charset=UTF-8",
                dataType: "json",
                success: function (result) {

                    loadToDoList();
                    clearToDoList();
                },
                error: function (errormessage) {
                    alert('Sorry, Something went wrong. Please try again.');
                }
            });
       // }
    }


    //function for deleting employee's record
    function MarkAsRead(ID, IsDone) {
        //var ans = confirm("Are you sure you want to mark this done?");
        //if (ans) {
            //  var ID = $(this).attr("data-Id")
            //  var IsDone = $(this).attr("data-IsDone")
            $.ajax({
                url: "/MyDeal/MarkAsDone?ID=" + ID + "&IsDone=" + IsDone,
                // data: { ID: ID, IsDone: IsDone },
                type: "POST",
                contentType: "application/json;charset=UTF-8",
                dataType: "json",
                success: function (result) {

                    loadToDoList();
                },
                error: function (errormessage) {
                    alert('Sorry, Something went wrong. Please try again.');
                }
            });
        //}
    }

    //Function for clearing the textboxes
    function clearToDoList() {
        $('#txtTask').val("");
        $('#lblError').css('display', 'none')
        $('#lblTask').css('display', 'none')
    }
    //Valdidation using jquery
    function validateToDoList() {
        var isValid = true;
        if ($('#txtTask').val().trim() == "") {
            $('#lblTask').css('display', 'block');
            isValid = false;
        }
        else {
            $('#lblTask').css('display', 'none');
        }



        return isValid;
    }

    function editable(obj,Id){
        //Reference the Label.
        var label =$(obj).parent().prev('td').find('#lblName');



        //Reference the TextBox.
        var textbox = label.next();

        //Set the name attribute of the TextBox.
       // textbox[0].name = label.id.replace("lbl", "txt");

        //Assign the value of Label to TextBox.
        textbox.val(label.html());

        //When edit is clicked, hide Label and show TextBox.
        label.hide();
        textbox.css('display', 'inline-block');
        textbox.focus();
        //When focus is lost from TextBox, hide TextBox and show Label.
        textbox.focusout(function () {
            var task=$(this).val();
            var TaskId=Id;
            EditToDoList(task,TaskId);
        });
    }

    // Add a "checked" symbol when clicking on a list item
    //var list = document.querySelector('.ultodolist');
    //list.addEventListener('click', function (ev) {
    //    if (ev.target.tagName === 'LI') {
    //        ev.target.classList.toggle('checked');
    //    }
    //}, false);



    </script>
    @*----------- To Do List  -------------------------------------*@
    <style>
        .ui-front {
            z-index: 9999;
            width: 200px;
        }
    </style>
    <style>
        .ui-autocomplete {
            max-height: 200px;
            overflow-y: auto;
            /* prevent horizontal scrollbar */
            overflow-x: hidden;
            /* add padding to account for vertical scrollbar */
            padding-right: 20px;
        }
    </style>




    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>

    <script>
        //Added by sonika
    $(document).ready(function () {
        //$(document).ajaxStart(function () {
        //    $("#ajaxLoading").css("display", "none");
        //    $("#ajax-backdrop").css("display", "none");
        //});txtClientId
        $('#VendorType').autocomplete({
            source: function (request, response) {
                //$("#ajaxLoading").attr("style", "display: none");
                //$("#ajax-backdrop").attr("style", "display: none");
                    var itemnamecodes = new Array();
                    $.ajax({
                        type: 'POST',
                        url: '@Url.Action("Autocomplete", "MyDeal")',
                        dataType: 'json',
                        data: { term: request.term },
                        success: function (data) {
                            response($.map(data, function (item) {
                                return { label: item.Key, Id: item.Value };
                            }))
                        }
                    })
            },
            minLength: 0,

                select: function (e, i) {
                    $("#ListingSHA").val(i.item.Id);
                    $('#txtTitleV').val("");

                }
        }).focus(function() {
            $(this).autocomplete("search", "");
            $('#VendorType').autocomplete({
                autoFocus: true
            })
        });

        $('#txtTitleV').autocomplete({
            source: function (request, response) {
                //$("#ajaxLoading").css("display", "none");
                //$("#ajax-backdrop").css("display", "none");
                var itemnamecodes = new Array();
                $.ajax({
                    type: 'POST',
                    url: '@Url.Action("ClientVendorautocomplete", "MyDeal")',
                    dataType: 'json',
                    data: { term: request.term,ClientId:$('#txtClientId').val(), VendorType:$('#VendorType').val()},
                    success: function (data) {
                    console.log(data)
                        response($.map(data, function (item) {
                            return { label: item.Key, Id: item.Value };
                        }))
                    }
                })
            },
            minLength: 0,

            select: function (e, i) {
                var mystring=i.item.Id;
                console.log(mystring);
                $("#ListingCVendor").val(i.item.key);
                var res = mystring.split("}");
                console.log(res);
                $("#txtPhone").val(res[0]);
                $("#txtEmail").val(res[1]);
                $("#VendorType").val(res[2]);

                if($("#txtVenId").val().length > 0 )
                {
                    $("#txtSubTitle").val(res[3]);
                    $("#txtWebsitelink").val(res[4]);
                    $("#txtLocation").val(res[5]);
                    $("#txtVenImage").val(res[6]);
                    $("#txtAbout").val(res[7]);
                }

            }
        }).focus(function() {
            $(this).autocomplete("search", "");
            $('#txtTitleV').autocomplete({
                autoFocus: true
            })
        });

           $('#txtTitle').autocomplete({
            source: function (request, response) {
                var itemnamecodes = new Array();
                $.ajax({
                    type: 'POST',
                    url: '@Url.Action("ClientDocumentautocomplete", "MyDeal")',
                    dataType: 'json',
                    data: { term: request.term,ClientId:$('#txtClientId').val(), TransactionId:$('#txtTransactionId').val()},
                    success: function (data) {
                    console.log(data)
                        response($.map(data, function (item) {
                            return { label: item.Key, Id: item.Value };
                        }))
                    }
                })
            },
            select: function (e, i) {
                $("#txtDescription").val(i.item.Id);
            }
        })
        })
    </script>


}



<style>
    @@import url(https://fonts.googleapis.com/css?family=Istok+Web);

    figcaption {
        position: absolute;
        bottom: 0;
        background: rgba(0,0,0,0.4);
        color: #fff;
        width: 100%;
        font-size: 6rem;
        padding: 6.6rem;
        line-height: 70px;
    }

    .jssora093 {
        display: none;
    }

    @@media only screen and (max-width: 768px) {
        div.DocumentModalPopUp {
            max-width: 600px !important;
            left: 20px !important;
            top: 10%;
            bottom: 10%;
            right: 20px !important;
            transform: none;
        }
    }

    .my-profile label {
        margin-top: 0px !important;
        text-transform: none !important;
    }
</style>
<!--Default installation-->
